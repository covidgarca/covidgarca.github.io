(this["webpackJsonpsystem-covid"]=this["webpackJsonpsystem-covid"]||[]).push([[0],{101:function(e,t,a){e.exports=a(203)},102:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},169:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(30),i=(a(102),a(103),a(105),a(46),a(0)),l=a.n(i),r=a(63),o=a(31),s=a.n(o),c=a(1),u=a(7),m=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"set",value:function(e,t){localStorage.setItem(btoa(String(e)),btoa(String(t)))}},{key:"getObject",value:function(e){var t=localStorage.getItem(btoa(String(e)));return JSON.parse(t?atob(t):t)}},{key:"removeItem",value:function(e){localStorage.removeItem(btoa(String(e)))}},{key:"clear",value:function(){localStorage.clear()}},{key:"get",value:function(e){var t=localStorage.getItem(btoa(String(e)));return t?atob(t):t}},{key:"setObject",value:function(e,t){localStorage.setItem(btoa(String(e)),btoa(JSON.stringify(t)))}}]),e}(),d=a(14),h=a(18),f=(a(124),a(125),a(32)),p=a(28),b=a(4),E=a(92),v=a.n(E),g=Object.keys(f).filter((function(e){return"fas"!==e&&"prefix"!==e})).map((function(e){return f[e]}));p.b.add.apply(p.b,Object(n.a)(g));var _=Object(h.g)((function(e){var t=e.homeApp,a=e.history;return l.a.createElement("header",null,l.a.createElement("nav",{className:"nav__desk"},l.a.createElement(d.b,{to:"/",className:"nav__logo"},l.a.createElement("img",{src:v.a,className:"nav__logo",alt:"Logo"})),l.a.createElement("ul",null,t?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"chart-bar"}),"\xa0Dashboard")),l.a.createElement(d.b,{to:"/profile"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"user-circle"}),"\xa0Perfil")),l.a.createElement("li",{onClick:function(){return m.clear(),void a.push("/login")}},l.a.createElement(b.a,{icon:"sign-out-alt"}),"\xa0Sair")):l.a.createElement(d.b,{to:m.getObject("token")?"/patients":"/login"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"id-badge"}),"\xa0Entrar")))))})),y=(a(131),a(10)),C=a.n(y),w=a(49),N=a.n(w),x=function(e){var t=e.userInfoSideBar;return l.a.createElement(l.a.Fragment,null,l.a.createElement("aside",{className:"main__sidebar"},l.a.createElement("div",{className:"health__unit__name"},l.a.createElement("span",{style:{color:"white",fontSize:25}},l.a.createElement(b.a,{icon:"shield-virus"})),l.a.createElement("h1",{style:{cursor:"pointer",margin:0}},"\xa0",t.health_current.name,"\xa0")),l.a.createElement("section",{className:"profile__user"},l.a.createElement("div",{className:"profile__user__content"},l.a.createElement(d.b,{to:"/profile"},l.a.createElement("img",{src:N.a,width:60,height:60,alt:"Profile"})),l.a.createElement("div",{className:"info__profile__user"},l.a.createElement("span",{className:"name__profile__user"},t.user.name),l.a.createElement("span",{className:"office__profile__user"},t.user.office)))),l.a.createElement("section",{className:"all__items__aside"},l.a.createElement("div",{className:"header__aside"},l.a.createElement("span",{className:"span__header__menu"},l.a.createElement("li",null,"menu principal"))),l.a.createElement(d.b,{to:"/patients"},l.a.createElement("div",{className:"item__aside"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"procedures"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0 \xa0Pacientes")))),l.a.createElement(d.b,{to:"/phonecalls"},l.a.createElement("div",{className:"item__aside"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"phone-alt"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0 \xa0Liga\xe7\xf5es")))),l.a.createElement("div",{className:"header__aside"},l.a.createElement("li",null,"Administra\xe7\xe3o")),t.user.super_admin&&l.a.createElement(d.b,{to:"/healthunit"},l.a.createElement("div",{className:"item__aside",title:"Unidades"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"hospital-user"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0\xa0Unidades")))),"admin"===t.user.type&&l.a.createElement(d.b,{to:"/users"},l.a.createElement("div",{className:"item__aside"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"user-friends"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0\xa0Usu\xe1rios")))),"municipal"!==t.user.type&&l.a.createElement(d.b,{to:"/record/activity"},l.a.createElement("div",{className:"item__aside"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"clipboard-list"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0\xa0Atividade")))),l.a.createElement(d.b,{to:"/help"},l.a.createElement("div",{className:"item__aside"},l.a.createElement("li",null,l.a.createElement(b.a,{icon:"question-circle"}),l.a.createElement("span",{className:"span__li__item__menu"},"\xa0\xa0Ajuda")))))))},k=function(e){var t=e.children;return l.a.createElement("div",{className:"row",style:{width:"100%",margin:0,padding:0}},t)},P=function(){return l.a.createElement("span",{style:{width:"100%",borderBottom:"0.5px solid #8498ae58"}})},O=(a(132),function(e){var t=e.titleHeader,a=e.styleBox,n=e.styleHeader,i=e.styleBody,r=e.children;return l.a.createElement("div",{className:"box__app",style:a},l.a.createElement("div",{className:"box__header",style:n},t),l.a.createElement("div",{className:"box__body",style:i},r))}),S=a(93),j=a.n(S),D=function(e){var t=e.width,a=e.height,n=e.type,i=e.data,r=e.options,o=e.id;return l.a.createElement(j.a,{id:o,type:n,series:i,width:t,height:a,options:r})},T=(a(134),function(e){var t=e.color,a=void 0===t?"rgb(0 149 135)":t,n=e.size,i=void 0===n?20:n;return l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"dot dot-1",style:{width:i,height:i,backgroundColor:a}}),l.a.createElement("div",{className:"dot dot-2",style:{width:i,height:i,backgroundColor:a}}),l.a.createElement("div",{className:"dot dot-3",style:{width:i,height:i,backgroundColor:a}}),l.a.createElement("div",{className:"dot dot-4",style:{width:i,height:i,backgroundColor:a}}))}),F=(a(135),a(94)),A=a.n(F),L=function(e){var t=e.visible,a=e.typeAnimation,n=e.onClickAway,i=e.title,r=e.subtitle,o=e.desc,s=e.oneButtonTitle,c=e.twoButtonTitle,u=e.oneButtonOnclick,m=e.oneButtonIcon;return l.a.createElement(A.a,{width:"600",height:"230",visible:t,effect:a||"fadeInLeft",onClickAway:n},l.a.createElement("div",{className:"content__wrapper__modal"},l.a.createElement("div",{className:"header__modal__delete"},l.a.createElement("h1",{className:"label__title__modal"},l.a.createElement(b.a,{icon:"exclamation-triangle"}),l.a.createElement("span",{style:{display:"inline",paddingLeft:"10px",fontSize:"22px"}},i))),l.a.createElement("div",{className:"main__modal__delete"},l.a.createElement("h2",{className:"text__warn__main",style:{fontWeight:"bold"}},r),l.a.createElement("h3",{className:"text__warn__main",style:{marginTop:"-7px"}},o)),l.a.createElement("div",{className:"container__buttons__modals"},l.a.createElement("button",{className:"button__delete__background",onClick:u},l.a.createElement("h2",{className:"label__button__delete"},l.a.createElement(b.a,{icon:m,color:"white"})),l.a.createElement("h2",{className:"label__button__delete",style:{marginLeft:"5px"}},s)),l.a.createElement("button",{className:"button__delete__background",style:{backgroundColor:"white",marginLeft:"15px"},onClick:n},l.a.createElement("h2",{className:"label__button__delete",style:{marginLeft:"5px",color:"black"}},c)))))},U=(a(141),function(e){var t=e.titleComponent,a=e.icon;return l.a.createElement("div",{className:"header__wrapper__app"},l.a.createElement("div",{className:"name__component__app"},l.a.createElement("span",null,l.a.createElement(b.a,{icon:null!==a&&void 0!==a?a:"th-list"}),"\xa0",t)),l.a.createElement("div",{className:"indication__route__component"},l.a.createElement("span",null,l.a.createElement(b.a,{icon:"home"}),"\xa0 Coronav\xedrus Gar\xe7a \xa0 \xa0",l.a.createElement(b.a,{icon:"angle-right"}),"\xa0 \xa0",t)))}),M=(a(142),function(e){var t=e.children;return l.a.createElement("div",{id:"container__default"},t)}),I=function(e){var t=e.children;return l.a.createElement("div",{id:"container__default__header"},t)},R=(a(143),a(95)),H=a.n(R),z=a(62),V=a.n(z),B=a(96),Y=a.n(B),G=window.innerWidth<=640,q={showTotal:!0,hideSizePerPage:!0,withFirstAndLast:!0,alwaysShowAllBtns:!0,hidePageListOnlyOnePage:!1,paginationTotalRenderer:function(e,t,a){return G?l.a.createElement(l.a.Fragment,null):l.a.createElement("span",{className:"react-bootstrap-table-pagination-total"},"Mostrando de ",e," at\xe9 ",t," de ",a," resultados.")},sizePerPageList:[{text:"10",value:10}]},W=z.CSVExport.ExportCSVButton,X=function(e){var t=e.data,a=e.isData,n=e.columns,i=e.keyField,r=void 0===i?"id":i;return l.a.createElement(V.a,{data:t,keyField:"id",columns:n,exportCSV:{fileName:"total.csv"}},(function(e){var i=e.csvProps,o=e.baseProps;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,i,"Exportar CSV","\xa0",l.a.createElement(b.a,{icon:"file-csv"})),l.a.createElement(Y.a,Object.assign({},o,{hover:!0,striped:!0,condensed:!0,bootstrap4:!0,data:t,columns:n,keyField:r,pagination:H()(q),noDataIndication:function(){return l.a.createElement("div",{className:"container__loader__table"},a?l.a.createElement(T,{size:10}):"Nenhum resultado encontrado!")}})))}))},K=(a(169),a(37)),Z=a.n(K),J=function(e){var t=e.title,a=e.count,n=e.icon,i=e.onClick,r=void 0===i?null:i,o=e.selected,s=void 0!==o&&o;return l.a.createElement("section",{onClick:r,style:{opacity:s?.7:1},className:"box__info__app shadow-lg"},l.a.createElement("div",{className:"icon__box__info__app"},l.a.createElement(b.a,{icon:n,size:"3x",color:"white"})),l.a.createElement("div",{className:"content__box__info__app"},l.a.createElement("span",null,t),l.a.createElement("h1",{className:"count__number__box"},l.a.createElement(Z.a,{duration:4,start:0,end:a}))))},Q=function(e){var t=e.onClickNewButton,a=e.placeholderSearch,n=e.onFilter;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xs-2 mb-2 mt-2",style:{paddingLeft:0}},l.a.createElement("button",{className:"btn btn-block",onClick:t,style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement(b.a,{icon:"plus",color:"white"}),"\xa0 Novo")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xs-10 mb-2 mt-2",style:{margin:0,padding:0}},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{id:"filter",type:"text",onChange:n,className:"form-control",placeholder:a}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button"},l.a.createElement(b.a,{icon:"search"}))))))},$=a(41),ee=a.n($),te=a(50),ae=a(3),ne=a(2),ie=(a(172),a(97)),le=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={results:[],isResults:!1,onFocus:!1},n._provider=new ie.a,n}return Object(u.a)(a,[{key:"_onChange",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onChange(t),a=[],e.prev=2,e.next=5,this._provider.search({query:t.target.value});case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a=[];case 11:this.setState({results:a});case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_onEvent",value:function(e){this.setState({onFocus:!1,results:[]}),this.props.onEvent({lat:e.y,long:e.x,address:e.label})}},{key:"componentDidUpdate",value:function(e,t,a){e.clear!==this.props.clear&&this.setState({onFocus:!1,results:[]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.onFocus,i=this.props,r=i.address,o=i.className;return l.a.createElement("div",{id:"search"},l.a.createElement("input",{id:"address",type:"text",placeholder:"Endere\xe7o",value:null!==r&&void 0!==r?r:"",className:o,onChange:this._onChange.bind(this),onFocus:function(){return e.setState({onFocus:!0})}}),r&&a.length>0&&n&&l.a.createElement("div",{className:"search__container"},a.map((function(t,a){return l.a.createElement("div",{key:a,className:"search__item",onClick:function(){return e._onEvent(t)}},l.a.createElement(b.a,{icon:"map-marker-alt",color:"gray"})," \xa0",t.label)}))))}}]),a}(l.a.PureComponent),re=Object.keys(f).filter((function(e){return"fas"!==e&&"prefix"!==e})).map((function(e){return f[e]}));p.b.add.apply(p.b,Object(n.a)(re));var oe=function(e){var t=e.userInfoSideBar;return l.a.createElement("div",{className:"sidebar__mobile"},l.a.createElement("ul",null,l.a.createElement(d.b,{to:"/patients"},l.a.createElement("li",{title:"Pacientes"},l.a.createElement("span",null,"Pacientes\xa0",l.a.createElement(b.a,{icon:"procedures"})))),l.a.createElement(P,null),l.a.createElement(d.b,{to:"/phonecalls"},l.a.createElement("li",{title:"Unidades"},l.a.createElement("span",null,"Liga\xe7\xf5es\xa0",l.a.createElement(b.a,{icon:"phone-alt"})))),l.a.createElement(P,null),t.user.super_admin&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/healthunit"},l.a.createElement("li",{title:"Unidades"},l.a.createElement("span",null,"Unidades\xa0",l.a.createElement(b.a,{icon:"hospital-user"})))),l.a.createElement(P,null)),"admin"===t.user.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/users"},l.a.createElement("li",{title:"Usu\xe1rios"},l.a.createElement("span",null,"Usu\xe1rios\xa0",l.a.createElement(b.a,{icon:"user-friends"})))),l.a.createElement(P,null)),"municipal"!==t.user.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/record/activity"},l.a.createElement("li",{title:"Registro de atividade"},l.a.createElement("span",null,"Atividade\xa0",l.a.createElement(b.a,{icon:"clipboard-list"})))),l.a.createElement(P,null)),l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/help"},l.a.createElement("li",{title:"Ajuda"},l.a.createElement("span",null,"Ajuda\xa0",l.a.createElement(b.a,{icon:"question-circle"}))),l.a.createElement(P,null)))))},se=function(e){var t=e.userInfo;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:function(){C()(".sidebar__mobile").slideToggle()},className:"button__sidebar__mobile"},l.a.createElement(b.a,{icon:"bars"})),l.a.createElement(oe,{userInfoSideBar:t}),l.a.createElement(x,{userInfoSideBar:t}))},ce=(a(173),a(17)),ue=(a(174),a(24)),me=a.n(ue),de=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"custom",value:function(e,t){me()(e).then((function(e){return t(e)}))}},{key:"fixed",value:function(e,t){me()({button:!1,closeOnEsc:!1,closeOnClickOutside:!1,text:e}).then((function(e){return t(e)}))}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};me()("Aviso",e,"info").then((function(){return t()}))}},{key:"fullinfo",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};me()(e,t,"info").then((function(){return a()}))}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};me()("Erro",e,"error").then((function(e){return t(e)}))}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};me()("Sucesso",e,"success").then((function(){return t()}))}},{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};me()("Aviso",e,"warning").then((function(){return t()}))}},{key:"close",value:function(){me.a.close()}}]),e}(),he=a(98),fe=a.n(he),pe="https://apisystemcovid.ddns.net",be="6C9EB353853E0A323DA9D98767A85A7086769C02",Ee="A0817939785B169FA979CFAB03A63DE9FBE768C8",ve="covid_web",ge="9a6a9486879a7dc42d4d48bedbc5d1a7",_e=function(e){return"GET"===e.method?s()({url:"".concat(pe).concat(e.url),method:e.method,headers:e.headers,params:e.params}):s()({url:"".concat(pe).concat(e.url),method:e.method,headers:e.headers,data:fe.a.stringify(e.params)})},ye=function(){function e(t,a,n,i){Object(c.a)(this,e),this._url=t,this._method=a,this._headers=n,this._params=i}return Object(u.a)(e,[{key:"url",get:function(){return this._url}},{key:"method",get:function(){return this._method}},{key:"headers",get:function(){return this._headers}},{key:"params",get:function(){return this._params}}]),e}(),Ce="/api/v1/user",we="/auth/v1/token",Ne="/api/v1/patient",xe="/auth/v1/recovery",ke="/api/v1/healthunit",Pe="/auth/v1/refresh",Oe="/api/v1/dashboard",Se="/api/v1/phonecalls",je="/api/v1/history",De="/api/v1/help",Te=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i=we,l={username:e,password:n,client_key:ve,client_secret:ge};return t.call(this,i,"POST",{"Content-Type":"application/x-www-form-urlencoded"},l)}return a}(ye),Fe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ce,"/").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ae=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=Ce;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Le=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a),console.log(e);var n="".concat(Ce,"/healthunit/change"),i=e;return console.log(n),console.log(i),t.call(this,n,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},i)}return a}(ye),Ue=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ce,"/").concat(e);return t.call(this,n,"DELETE",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Me=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(Ne,"/").concat(n);return t.call(this,i,"PUT",{"Content-Type":"application/x-www-form-urlencoded"},e)}return a}(ye),Ie=a(6),Re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n=Ce,i=Object(Ie.a)({},e);return t.call(this,n,"POST",{"Content-Type":"application/x-www-form-urlencoded"},i)}return a}(ye),He=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(Ce,"/").concat(e,"/transfer"),l={health_unit:n};return t.call(this,i,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},l)}return a}(ye),ze=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=je;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ve=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(Ce,"/").concat(e),l=Object(Ie.a)({},n);return t.call(this,i,"PUT",{"Content-Type":"application/x-www-form-urlencoded"},l)}return a}(ye),Be=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Ce,"/logged");return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ye=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=Ne;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ge=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n=Ne;return t.call(this,n,"POST",{"Content-Type":"application/x-www-form-urlencoded"},e)}return a}(ye),qe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e,"/death");return t.call(this,n,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),We=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=Pe,n={refresh_token:m.getObject("token").refresh_token};return t.call(this,e,"POST",{"Content-Type":"application/x-www-form-urlencoded"},n)}return a}(ye),Xe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e,"/family");return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ke=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e);return t.call(this,n,"DELETE",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Ze=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(ke,"/").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Je=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Se,"?filter=").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Qe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=ke;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),$e=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Oe,"/total"),n={Authorization:be,"Content-Type":"application/x-www-form-urlencoded"};return t.call(this,e,"GET",n,null)}return a}(ye),et=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Se,"/").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),tt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=Se;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),at=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(ke,"/").concat(e);return t.call(this,n,"DELETE",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),nt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n=ke,i=e;return t.call(this,n,"POST",{"Content-Type":"application/x-www-form-urlencoded"},i)}return a}(ye),it=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Oe,"/cases"),n={Authorization:be,"Content-Type":"application/x-www-form-urlencoded"};return t.call(this,e,"GET",n,null)}return a}(ye),lt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(xe,"/confirm"),i={Authorization:Ee,"Content-Type":"application/x-www-form-urlencoded"},l={code:e};return t.call(this,n,"POST",i,l)}return a}(ye),rt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(xe,"/request"),i={Authorization:Ee,"Content-Type":"application/x-www-form-urlencoded"},l={email:e};return t.call(this,n,"POST",i,l)}return a}(ye),ot=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(ke,"/").concat(e),l=n;return t.call(this,i,"PUT",{"Content-Type":"application/x-www-form-urlencoded"},l)}return a}(ye),st=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e,"/family");return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),ct=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(xe,"/password"),l={Authorization:Ee,"Content-Type":"application/x-www-form-urlencoded"},r={password:e,code:n};return t.call(this,i,"POST",l,r)}return a}(ye),ut=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Se,"/counter");return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),mt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(Ne,"/").concat(e,"/examresult");return t.call(this,i,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},n)}return a}(ye),dt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),ht=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(Ce,"/").concat(e,"/password"),l=Object(Ie.a)({},n);return t.call(this,i,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},l)}return a}(ye),ft=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Ne,"/counter");return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),pt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Oe,"/healthunits"),n={Authorization:be,"Content-Type":"application/x-www-form-urlencoded"};return t.call(this,e,"GET",n,null)}return a}(ye),bt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Oe,"/phonecalls"),n={Authorization:be,"Content-Type":"application/x-www-form-urlencoded"};return t.call(this,e,"GET",n,null)}return a}(ye),Et=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n,i){Object(c.a)(this,a);var l="".concat(Se,"/").concat(e,"/completed"),r={description:n,id_patient:i};return t.call(this,l,"PATCH",{"Content-Type":"application/x-www-form-urlencoded"},r)}return a}(ye),vt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e="".concat(Oe,"/averageage"),n={Authorization:be,"Content-Type":"application/x-www-form-urlencoded"};return t.call(this,e,"GET",n,null)}return a}(ye),gt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){Object(c.a)(this,a);var e=De;return t.call(this,e,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),_t=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n=De;return t.call(this,n,"POST",{"Content-Type":"application/x-www-form-urlencoded"},e)}return a}(ye),yt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e,n){Object(c.a)(this,a);var i="".concat(De,"/").concat(n);return t.call(this,i,"PUT",{"Content-Type":"application/x-www-form-urlencoded"},e)}return a}(ye),Ct=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(De,"/").concat(e);return t.call(this,n,"DELETE",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),wt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(De,"/").concat(e);return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),Nt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){Object(c.a)(this,a);var n="".concat(Ne,"/").concat(e,"/phonecalls");return t.call(this,n,"GET",{"Content-Type":"application/x-www-form-urlencoded"},null)}return a}(ye),xt=new(function(){function e(){Object(c.a)(this,e),this.refreshingToken=!1,this.refreshTokenPromise=Promise.resolve()}return Object(u.a)(e,[{key:"verify",value:function(){var e=this,t=m.getObject("token"),a=(new Date).toISOString();return console.log(a,t.expires_in),a>=t.expires_in&&!this.refreshingToken&&(this.refreshingToken=!0,this.refreshTokenPromise=new Promise((function(t,a){_e(new We).then((function(e){var a=new Date,n=new Date;n.setSeconds(a.getSeconds()+(e.data.expires_in-10));var i={access_token:e.data.access_token,refresh_token:e.data.refresh_token,expires_in:n.toISOString()};s.a.defaults.headers.common.Authorization=i.access_token,m.setObject("token",i),t(e)})).catch((function(e){m.clear(),window.location.reload(),a(e)})).finally((function(){e.refreshingToken=!1}))}))),this.refreshTokenPromise}}]),e}()),kt=function(){function e(){Object(c.a)(this,e),this._tokenPromisse=null}return Object(u.a)(e,[{key:"run",value:function(e){var t=this;return this._tokenPromisse=xt.verify(),new Promise((function(a,n){return t._tokenPromisse.then((function(){return _e(e).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))}))}}]),e}(),Pt=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"authToken",value:function(e,t){return new Promise((function(a,n){_e(new Te(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}},{key:"getUser",value:function(){return new Promise((function(e,t){(new kt).run(new Be).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"recoveryEmail",value:function(e){return new Promise((function(t,a){_e(new rt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"recoveryPass",value:function(e,t){return new Promise((function(a,n){_e(new ct(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}},{key:"recoveryCode",value:function(e){return new Promise((function(t,a){_e(new lt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"scrollCarousel",value:function(e){switch(e){case 0:return"login";case 1:return"recoveryEmail";case 2:return"recoveryCode";default:return"recoveryPassword"}}}]),e}(),Ot=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"transPatientUnity",value:function(e){var t={health_unit:Number(e)};return new Promise((function(e,a){(new kt).run(new Le(t)).then((function(t){return e(t.data)})).catch((function(e){return a(e.response.status)}))}))}}]),e}(),St=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getHealthUnits",value:function(){return new Promise((function(e,t){(new kt).run(new Qe).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"getHealthUnitData",value:function(e){return new Promise((function(t,a){(new kt).run(new Ze(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"addHealthUnity",value:function(e){return new Promise((function(t,a){(new kt).run(new nt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"editHealthUnity",value:function(e,t){return new Promise((function(a,n){(new kt).run(new ot(e,t)).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))}},{key:"deleteHealth",value:function(e){return new Promise((function(t,a){(new kt).run(new at(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}}]),e}(),jt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={health:null,healthUnits:[],isSaving:!1,isHealthUnits:!0},n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_getHealthUnits",value:function(){var e=this;this.setState({health:{value:this._storage.health_current.id,label:this._storage.health_current.name}}),this.setState({isHealthUnits:!0}),St.getHealthUnits().then((function(t){e.transform(t).then((function(t){e.setState({healthUnits:t})}))})).finally((function(){e.setState({isHealthUnits:!1})}))}},{key:"_transferUser",value:function(){var e=this;this.setState({isSaving:!0});var t=this.state.health;Ot.transPatientUnity(t.value).then((function(){Pt.getUser().then((function(t){m.setObject("user",t),e._storage=m.getObject("user"),window.location.reload()})).catch((function(e){return console.log("cuzao")}))})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isSaving:!1})}))}},{key:"transform",value:function(e){return new Promise((function(t,a){var n=[];e.map((function(e){return n.push({label:e.name,value:e.id})})),n.length===e.length&&t(n)}))}},{key:"componentDidMount",value:function(){var e=this;console.log(m.getObject("user")),C()("#ModalTrans").on("hidden.bs.modal",(function(){e.setState({healthUnits:[],health:null})})).on("shown.bs.modal",(function(){e._getHealthUnits()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.health,n=t.healthUnits,i=t.isHealthUnits,r=t.isSaving;return l.a.createElement("div",{className:"modal fade",id:"ModalTrans",tabIndex:"-1",role:"dialog","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},"Trocar de Unidade"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(O,null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-4"},l.a.createElement("label",null,"Unidades de saude"),l.a.createElement(ce.a,{isClearable:!0,value:a,options:n,isLoading:i,placeholder:"Selecione a unidade de saude.",onChange:function(t){return e.setState({health:t})}}))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return e._transferUser()}},r?l.a.createElement(T,{size:8,color:"white"}):"Salvar")))))}}]),a}(l.a.PureComponent),Dt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={visibleModalUnits:!1,isLoadModal:!1},n}return Object(u.a)(a,[{key:"showModalUnits",value:function(){C()("#ModalTrans").modal("show"),this.setState({visibleModalUnits:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(jt,null),l.a.createElement("button",{onClick:function(){return e.showModalUnits()},className:"button__change__unit",title:"Trocar de unidade"},l.a.createElement(b.a,{title:"Trocar de unidade",icon:"sitemap"})))}}]),a}(l.a.Component),Tt=function(e){var t=m.getObject("user");return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{homeApp:!0}),l.a.createElement("div",{className:"body__home"},l.a.createElement(se,{userInfo:t}),l.a.createElement("main",{className:"content__wrapper__home"},t.user.super_admin&&l.a.createElement(Dt,null),e.children)))},Ft=(a(177),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{homeApp:!1}),l.a.createElement("div",{className:"body__dashboard"},l.a.createElement("div",{className:"content__wrapper__dashboard"},this.props.children)))}}]),a}(l.a.PureComponent)),At=a(16),Lt=(a(178),a(20)),Ut=a.n(Lt),Mt=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getHealthUnits",value:function(){return new Promise((function(e,t){return _e(new pt).then((function(t){return e(t.data)})).catch((function(e){return t(e.response)}))}))}},{key:"getPhoneCalls",value:function(){return new Promise((function(e,t){return _e(new bt).then((function(t){return e(t.data)})).catch((function(e){return t(e.response)}))}))}},{key:"getAvarage",value:function(){return new Promise((function(e,t){return _e(new vt).then((function(t){return e(t.data)})).catch((function(e){return t(e.response)}))}))}},{key:"getCases",value:function(){return new Promise((function(e,t){return _e(new it).then((function(t){return e(t.data)})).catch((function(e){return t(e.response)}))}))}},{key:"getTotal",value:function(){return new Promise((function(e,t){return _e(new $e).then((function(t){return e(t.data)})).catch((function(e){return t(e.response)}))}))}}]),e}(),It=(a(179),function(e){var t=e.finished,a=e.monitoring,n=e.title,i=e.subtitle;return l.a.createElement("div",{className:"box__info__default"},l.a.createElement("span",{className:"title__box__info__default"},n),l.a.createElement("span",{className:"content__box__info__default"},t),l.a.createElement("div",{className:"subtopic__box__info__default"},l.a.createElement("span",{className:"subtitle__box__info__default"},i),l.a.createElement("span",{className:"subcontent__box__info__default"},a)))}),Rt=(a(180),function(e){var t=e.finished,a=e.monitoring,n=e.title,i=e.subtitle;return l.a.createElement("div",{className:"box__info__general"},l.a.createElement("span",{className:"title__box__info__general"},n),l.a.createElement("span",{className:"content__box__info__general"},t),l.a.createElement("div",{className:"subtopic__box__info__general"},l.a.createElement("span",{className:"subtitle__box__info__general"},i),l.a.createElement("span",{className:"subcontent__box__info__general"},a)))}),Ht=(a(181),function(e){var t=e.classNameFather,a=e.className,n=e.isTitleText,i=e.title,r=e.icon,o=e.text,s=e.styleText;return l.a.createElement("section",{className:"item__menu".concat(t?" ".concat(t):"")},l.a.createElement("div",{className:a,title:i},l.a.createElement("h1",null,n||l.a.createElement(b.a,{icon:r}))),s?l.a.createElement("p",{style:s},o):l.a.createElement("p",null,o))}),zt=(a(182),function(e){var t=e.className,a=e.children,n=e.style;return l.a.createElement("div",{style:n,className:"box__information".concat(t?" ".concat(t):"")},a)}),Vt={chart:{stacked:!0,zoom:{enabled:!0}},title:null,subtitle:{text:"Munic\xedpio de Gar\xe7a",align:"left"},labels:[],xaxis:{labels:{rotate:-55,style:{colors:[],fontSize:"10px",fontFamily:"Arial, sans-serif",fontWeight:500,cssClass:"apexcharts-xaxis-label"}}},colors:[],plotOptions:{bar:{horizontal:!0,dataLabels:{position:"top"}}},fill:{colors:null,opacity:.9,type:null,gradient:{type:null,shadeIntensity:.5,gradientToColors:null,inverseColors:!0,opacityFrom:1}}},Bt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={dataTotal:[],dataChartCasesUnit:[],dataChartComorbidities:[],dataChartDeathsUnit:[],dataChartPhoneCallsUnit:[],dataChartAvarage:[],optionsChartCasesUnit:null,optionsChartComorbidities:null,optionsChartDeathsUnit:null,optionsChartPhoneCallsUnit:null,optionsChartAvarage:null,isLoadTotal:!0,isLoadPhoneCalls:!0,isLoadCasesUnit:!0,isLoadComorbidities:!0,isLoadDeathsUnit:!0,isLoadAvarageUnit:!0,isInitialMessageLoadBox:0,isInitialMessageLoadChartsCases:"Carregando informa\xe7\xf5es...",isInitialMessageLoadChartsPhoneCalls:"Carregando informa\xe7\xf5es...",isInitialMessageLoadChartsAvarage:"Carregando informa\xe7\xf5es..."},n.numberDayCurrent=Ut()(new Date).format("DD"),n.textMonthCurrent=Ut()().month((new Date).getMonth()).format("MMMM"),n}return Object(u.a)(a,[{key:"_setOptionsChart",value:function(e,t,a,n,i,l){for(var r,o=[],s=[],c=0;c<n.length;c++)o.push("#00b88a"),s.push("#00b88a");var u=Object(Ie.a)({},Vt);e||(u.plotOptions={}),u.title={text:a,align:"left"},u.labels=n,u.fill.colors=o,u.fill.type=t,u.fill.gradient.gradientToColors=s,this.setState((r={},Object(At.a)(r,i,u),Object(At.a)(r,l,!1),r))}},{key:"_getAvarageAge",value:function(){var e=this;Mt.getAvarage().then((function(t){var a=[{name:"M\xe9dia de",data:[]}],n=[];t.map((function(e){a[0].data.push(e.average_age),n.push(e.name)})),e.setState({dataChartAvarage:a},(function(){e._setOptionsChart(!1,"gradient","M\xe9dia de idades por unidade",n,"optionsChartAvarage","isLoadAvarageUnit")}))})).catch((function(t){return e.setState({isInitialMessageLoadChartsAvarage:"Gr\xe1fico indispon\xedvel"})}))}},{key:"_getPhoneCalls",value:function(){var e=this;Mt.getPhoneCalls().then((function(t){var a=[{name:"Liga\xe7\xf5es",data:[]}],n=[];t.map((function(e){a[0].data.push(e.phone_calls),n.push(e.name)})),e.setState({dataChartPhoneCallsUnit:a},(function(){e._setOptionsChart(!0,"gradient","Liga\xe7\xf5es de monitoramento por unidade",n,"optionsChartPhoneCallsUnit","isLoadPhoneCalls")}))})).catch((function(t){return e.setState({isInitialMessageLoadChartsPhoneCalls:"Gr\xe1fico indispon\xedvel"})}))}},{key:"_getCasesUnit",value:function(){var e=this;Mt.getCases().then((function(t){var a=[{name:"Casos confirmados",data:[]}],n=[{name:"\xd3bitos confirmados",data:[]}],i=[{name:"Pacientes com comorbidades",data:[]}],l=[];t.map((function(e){a[0].data.push(e.monitoring),n[0].data.push(e.deaths),i[0].data.push(e.comorbidities),l.push(e.name)})),e.setState({dataChartCasesUnit:a,dataChartComorbidities:i,dataChartDeathsUnit:n},(function(){e._setOptionsChart(!1,"solid","Casos confirmados por unidade",l,"optionsChartCasesUnit","isLoadCasesUnit"),e._setOptionsChart(!0,"solid","Pacientes com comorbidades por unidade",l,"optionsChartComorbidities","isLoadComorbidities"),e._setOptionsChart(!1,"gradient","\xd3bitos por unidade",l,"optionsChartDeathsUnit","isLoadDeathsUnit")}))})).catch((function(t){console.log(t),e.setState({isInitialMessageLoadChartsCases:"Gr\xe1fico indispon\xedvel"})}))}},{key:"_getDataTotal",value:function(){var e=this;Mt.getTotal().then((function(t){return e.setState({dataTotal:t,isLoadTotal:!1})})).catch((function(t){return e.setState({isInitialMessageLoadBox:"Indispon\xedvel"})}))}},{key:"componentDidMount",value:function(){this._getAvarageAge(),this._getPhoneCalls(),this._getCasesUnit(),this._getDataTotal()}},{key:"render",value:function(){var e=this.state,t=e.isLoadTotal,a=e.isLoadCasesUnit,n=e.isLoadDeathsUnit,i=e.isLoadPhoneCalls,r=e.isLoadComorbidities,o=e.isLoadAvarageUnit,s=e.isInitialMessageLoadBox,c=e.isInitialMessageLoadChartsCases,u=e.isInitialMessageLoadChartsPhoneCalls;return l.a.createElement(l.a.Fragment,null,l.a.createElement("aside",{className:"main__menu"},l.a.createElement("div",{className:"title__menu"},l.a.createElement("h1",{style:{color:"#1da584",fontSize:13}},"COVID19"),l.a.createElement("h1",null,"Painel\xa0",l.a.createElement("span",{style:{fontWeight:"normal"}},"Gar\xe7a\xa0"),l.a.createElement(b.a,{icon:"shield-virus"}))),l.a.createElement(d.b,{to:"/"},l.a.createElement(Ht,{className:"icon__menu-active",isTitleText:!1,title:"Dashboard",icon:"chart-area",text:"dashboard",styleText:!1})),l.a.createElement(d.b,{to:"/units"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:!1,title:"Unidades",icon:"map-marked-alt",text:"Unidades",styleText:!1})),l.a.createElement(d.b,{to:"/about"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:"?",title:"Sobre",icon:!1,text:"sobre",styleText:!1})),l.a.createElement(Ht,{icon:!1,classNameFather:"item__data",className:"icon__menu__data-disabled",text:this.textMonthCurrent,isTitleText:this.numberDayCurrent,title:"".concat(this.numberDayCurrent," de ").concat(this.textMonthCurrent),styleText:{color:"rgb(248, 136, 45)"}})),l.a.createElement("main",{className:"content__analytic"},l.a.createElement("div",{className:"boxes__total__info"},l.a.createElement(Rt,{title:"Casos finalizados",subtitle:"\xd3bitos confirmados",finished:t?s:l.a.createElement(Z.a,{duration:5,end:this.state.dataTotal.finished}),monitoring:t?s:l.a.createElement(Z.a,{duration:5,end:this.state.dataTotal.deaths})}),l.a.createElement(It,{title:"Unidades",subtitle:"Pacientes em monitoramento",finished:t?s:l.a.createElement(Z.a,{duration:5,end:this.state.dataTotal.health_units}),monitoring:t?s:l.a.createElement(Z.a,{duration:5,end:this.state.dataTotal.monitoring})})),l.a.createElement(zt,{className:"fullscreen__chart"},o?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("h1",{className:"msg__loading"},u)):l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{type:"bar",width:"100%",height:"100%",id:"chart_dashboard",data:this.state.dataChartAvarage,options:this.state.optionsChartAvarage}))),l.a.createElement("div",{className:"list__charts"},l.a.createElement(zt,null,i?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("h1",{className:"msg__loading"},u)):l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{type:"bar",width:"100%",height:"100%",id:"chart_dashboard",data:this.state.dataChartPhoneCallsUnit,options:this.state.optionsChartPhoneCallsUnit}))),l.a.createElement(zt,null,a?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("h1",{className:"msg__loading"},c)):l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{id:"chart_dashboard",width:"100%",height:"100%",type:"bar",data:this.state.dataChartCasesUnit,options:this.state.optionsChartCasesUnit}))),l.a.createElement(zt,null,r?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("h1",{className:"msg__loading"},c)):l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{id:"chart_dashboard",width:"100%",height:"100%",type:"bar",data:this.state.dataChartComorbidities,options:this.state.optionsChartComorbidities}))),l.a.createElement(zt,null,n?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("h1",{className:"msg__loading"},c)):l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{id:"chart_dashboard",width:"100%",height:"100%",type:"bar",data:this.state.dataChartDeathsUnit,options:this.state.optionsChartDeathsUnit}))))))}}]),a}(l.a.PureComponent),Yt=Object(h.g)(Bt),Gt=(a(183),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).numberDayCurrent=Ut()(new Date).format("DD"),n.textMonthCurrent=Ut()().month((new Date).getMonth()).format("MMMM"),n}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("aside",{className:"main__menu"},l.a.createElement("div",{className:"title__menu"},l.a.createElement("h1",{style:{color:"#1da584",fontSize:13}},"COVID19"),l.a.createElement("h1",null,"Painel\xa0",l.a.createElement("span",{style:{fontWeight:"normal"}},"Gar\xe7a\xa0"),l.a.createElement(b.a,{icon:"shield-virus"}))),l.a.createElement(d.b,{to:"/"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:!1,title:"Dashboard",icon:"chart-area",text:"Dashboard",styleText:!1})),l.a.createElement(d.b,{to:"/units"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:!1,title:"Unidades",icon:"map-marked-alt",text:"Unidades",styleText:!1})),l.a.createElement(Ht,{className:"icon__menu-active",isTitleText:"?",title:"Sobre",icon:!1,text:"Sobre",styleText:!1}),l.a.createElement(Ht,{classNameFather:"item__data",className:"icon__menu__data-disabled",isTitleText:this.numberDayCurrent,title:"".concat(this.numberDayCurrent," de ").concat(this.textMonthCurrent),icon:!1,text:this.textMonthCurrent,styleText:{color:"rgb(248, 136, 45)"}})),l.a.createElement("main",{className:"content__about"},l.a.createElement("div",{className:"box__about"},l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Introdu\xe7\xe3o"),l.a.createElement("p",null,"Este sistema foi desenvolvido para ser o ve\xedculo de apoio para Unidades de Sa\xfade de Gar\xe7a sobre a situa\xe7\xe3o epidemiol\xf3gica da ",l.a.createElement("b",null,"COVID-19"),".")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Fonte"),l.a.createElement("p",null,"Estimativas anal\xedticas com base em pacientes de ",l.a.createElement("b",null,"COVID-19")," cadastrados nas Unidades de Sa\xfade do mun\xedcipio.")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Atualiza\xe7\xf5es"),l.a.createElement("p",null,"O processo de atualiza\xe7\xe3o dos dados sobre casos e \xf3bitos confirmados por ",l.a.createElement("b",null,"COVID-19")," \xe9 realizado pelas informa\xe7\xf5es cadastradas e alteradas diariamente pelas Unidades de Sa\xfade. Os dados fornecidos s\xe3o consolidados e disponibilizados publicamente todos os dias em tempo real.")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Pacientes em acompanhamento"),l.a.createElement("p",null,"S\xe3o considerados como \u201cem acompanhamento\u201d todos os casos notificados nos \xfaltimos 14 dias pelas Unidades de Sa\xfade e que n\xe3o evolu\xedram para \xf3bito. Al\xe9m disso, dentre os casos que apresentaram SRAG e foram hospitalizados, considera-se \u201cem acompanhamento\u201d todos aqueles que foram internados nos \xfaltimos 14 dias e que n\xe3o apresentam registro de alta ou \xf3bito no SIVEP Gripe.")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Pacientes finalizados"),l.a.createElement("p",null,"Segundo a Organiza\xe7\xe3o Mundial da Sa\xfade, para os casos de ",l.a.createElement("b",null,"COVID-19")," confirmados por crit\xe9rio laboratorial, considera-se como pacientes finalizados aqueles que tiveram dois resultados negativos para SARS-CoV-2 com pelo menos 1 dia de intervalo. Para os casos leves, a OMS estima que tempo entre o in\xedcio da infec\xe7\xe3o e a recupera\xe7\xe3o dure at\xe9 14 dias."),l.a.createElement("p",null,"Como ainda h\xe1 uma car\xeancia no quantitativo de testes laboratoriais dispon\xedveis no mundo, em v\xe1rios pa\xedses n\xe3o tem sido poss\xedvel aplicar esse crit\xe9rio, j\xe1 que o foco \xe9 identificar casos novos e isol\xe1-los, tentando conter a transmiss\xe3o.")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"Pacientes com comorbidades"),l.a.createElement("p",null,"S\xe3o em ocorr\xeancia de duas ou mais doen\xe7as relacionadas no mesmo paciente ao mesmo tempo. Algumas doen\xe7as comuns como transtorno de ansiedade, estresse, abuso de \xe1lcool, dor, diabetes e doen\xe7as cardiovasculares. Portanto, uma das principais caracter\xedsticas da comorbidade \xe9 que existe a possibilidade de que as doen\xe7as se potencializem mutuamente.")),l.a.createElement("section",{className:"item__about"},l.a.createElement("h1",null,"\xd3bitos"),l.a.createElement("p",null,"N\xfamero total de \xf3bitos confirmados por ",l.a.createElement("b",null,"COVID-19")," que foram registrados pelas Unidades de Sa\xfade no per\xedodo considerado.")))))}}]),a}(l.a.PureComponent)),qt=Object(h.g)(Gt),Wt=(a(184),a(185),a(186),a(100)),Xt=a.n(Wt),Kt=a(86),Zt=a(89),Jt=a(87),Qt=a(88),$t=new window.L.Icon({iconUrl:a(90),iconRetinaUrl:a(90),iconSize:new window.L.Point(40,40)}),ea=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoadMap:!0,dataHealthUnits:[]},n.numberDayCurrent=Ut()(new Date).format("DD"),n.textMonthCurrent=Ut()().month((new Date).getMonth()).format("MMMM"),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;Mt.getHealthUnits().then((function(t){e.setState({dataHealthUnits:t,isLoadMap:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoadMap,a=e.dataHealthUnits;return l.a.createElement(l.a.Fragment,null,l.a.createElement("aside",{className:"main__menu"},l.a.createElement("div",{className:"title__menu"},l.a.createElement("h1",{style:{color:"#1da584",fontSize:13}},"COVID19"),l.a.createElement("h1",null,"Painel\xa0",l.a.createElement("span",{style:{fontWeight:"normal"}},"Gar\xe7a\xa0"),l.a.createElement(b.a,{icon:"shield-virus"}))),l.a.createElement(d.b,{to:"/"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:!1,title:"Dashboard",icon:"chart-area",text:"Dashboard",styleText:!1})),l.a.createElement(Ht,{className:"icon__menu-active",isTitleText:!1,title:"Unidades",icon:"map-marked-alt",text:"Unidades",styleText:!1}),l.a.createElement(d.b,{to:"/about"},l.a.createElement(Ht,{className:"icon__menu-disabled",isTitleText:"?",title:"Sobre",icon:!1,text:"Sobre",styleText:!1})),l.a.createElement(Ht,{classNameFather:"item__data",className:"icon__menu__data-disabled",isTitleText:this.numberDayCurrent,title:"".concat(this.numberDayCurrent," de ").concat(this.textMonthCurrent),icon:!1,text:this.textMonthCurrent,styleText:{color:"rgb(248, 136, 45)"}})),l.a.createElement("main",{className:"content__map"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(Kt.a,{id:"map__units",center:[-22.2125766,-49.6547994],minZoom:2,maxZoom:17,zoom:12,maxBoundsViscosity:1},l.a.createElement(Zt.a,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a>'}),l.a.createElement(Xt.a,null,a.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(l.a.Fragment,null,l.a.createElement(Jt.a,{icon:$t,position:0===e.latitude&&0===e.longitude?[-22.220341,-49.9482]:[e.latitude,e.longitude]},l.a.createElement(Qt.a,null,l.a.createElement("span",{className:"popup__health__unit"},l.a.createElement(b.a,{icon:"hospital-alt"}),"\xa0",e.name)))))})))))))}}]),a}(l.a.PureComponent),ta=Object(h.g)(ea),aa=a(35),na=a(19),ia=function(e){var t=e.data,a=e.onDelete,n=e.onEdit,r=e.onTransfer,o=e.logged,s=e.isData,c=Object(i.useState)(window.innerWidth),u=Object(aa.a)(c,2),m=u[0],d=u[1];Object(i.useEffect)((function(){var e=function(){return d(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var h=m<=640,f=[{dataField:"id",text:"ID",sort:!0,hidden:!0},{dataField:"name",text:"Nome",sort:!0,hidden:h},{dataField:"email",text:"Email",sort:!0},{dataField:"office",text:"Cargo",sort:!0,hidden:h},{dataField:"type",text:"Tipo",sort:!0,formatter:function(e){return l.a.createElement("span",{style:{textTransform:"capitalize"}},e)}},{dataField:"",text:"A\xe7\xf5es",align:"center",headerAlign:"center",formatter:function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{"data-for":"edit","data-tip":"Editar",onClick:function(){return n(t)},className:"btn btn-sm btn-secondary"},l.a.createElement(b.a,{size:"xs",icon:"pencil-alt",color:"white"})),l.a.createElement(na.a,{id:"edit",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{style:{marginLeft:5},"data-for":"transfer","data-tip":"Transferir",onClick:function(){return r(t)},className:"btn btn-sm btn-dark",disabled:t.id===o.id||"admin"!==o.type},l.a.createElement(b.a,{size:"xs",icon:"exchange-alt",color:"white"})),l.a.createElement(na.a,{id:"transfer",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{style:{marginLeft:5},"data-for":"delete","data-tip":"Excluir",className:"btn btn-sm btn-danger",onClick:function(){return a(t)},disabled:t.id===o.id||"admin"!==o.type},l.a.createElement(b.a,{icon:"times",color:"white"})),l.a.createElement(na.a,{id:"delete",place:"top",type:"dark",effect:"solid"}))},hidden:m<=930}];return l.a.createElement(X,{keyField:"id",data:t,isData:s,columns:f})},la=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getUsers",value:function(){return new Promise((function(e,t){(new kt).run(new Ae).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"getData",value:function(e){return new Promise((function(t,a){(new kt).run(new Fe(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"deleteUSer",value:function(e){return new Promise((function(t,a){(new kt).run(new Ue(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"editUser",value:function(e,t){return new Promise((function(a,n){(new kt).run(new Ve(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}},{key:"addUser",value:function(e){return new Promise((function(t,a){(new kt).run(new Re(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"getHealthUnits",value:function(){return new Promise((function(e,t){(new kt).run(new Qe).then((function(t){var a=[];t.data.forEach((function(e){a.push({value:e.id,label:e.name})})),e(a)})).catch((function(e){return t(e.response.status)}))}))}},{key:"transferUser",value:function(e,t){return new Promise((function(a,n){(new kt).run(new He(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}}]),e}(),ra=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"logout",value:function(e){m.clear(),e.go("/login"),"Apple Computer, Inc."===navigator.vendor&&window.location.reload()}},{key:"internalError",value:function(){me()("Erro no servidor","Tente novamente mais tarde!")}},{key:"withoutPermissionVizualization",value:function(e,t){me()("Erro","Sem permissao para vizualizar!","error").then((function(){return e.push(t)}))}}]),e}(),oa={name:null,email:null,office:null,type:null,password:null,cpassword:null,isSaving:!1,isLoadEdit:!1,showPassword:!1},sa=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state=Object(Ie.a)({},oa),n._optionsType=[{value:2,label:"Monitoramento"},{value:3,label:"Municipal"}],n._alert=new de,n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"_onChange",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"_onChangeShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"_validateRegister",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,i=e.cpassword;return t||this.setState({name:""}),a||this.setState({email:""}),n||this.setState({password:""}),n!==i&&this.setState({cpassword:""}),!!(t&&a&&n&&n===i)}},{key:"_validateEdit",value:function(){var e=this.state,t=e.name,a=e.email;return t||this.setState({name:""}),a||this.setState({email:""}),!(!t||!a)}},{key:"data",value:function(){var e=this;la.getData(this.props.userCurrent.id).then((function(t){e.setState({name:t.name,office:t.office,email:t.email,type:t.type},(function(){return e.setState({isLoadEdit:!1})}))})).catch((function(t){return e._errStatusCode(t)}))}},{key:"edit",value:function(){var e,t=this;if(this._validateEdit()){this.setState({isSaving:!0});var a=Object(Ie.a)(Object(Ie.a)({},this.state),{},{type:null===(e=this.state.type)||void 0===e?void 0:e.value});la.editUser(this.props.userCurrent.id,a).then((function(){t._alert.success("Usu\xe1rio editado!",(function(){t.props.refresh(),C()("#registerModal").modal("hide")}))})).catch((function(e){return t._errStatusCode(e)})).finally((function(){return t.setState({isSaving:!1})}))}}},{key:"register",value:function(){var e,t=this;if(this._validateRegister()){this.setState({isSaving:!0});var a=Object(Ie.a)(Object(Ie.a)({},this.state),{},{type:null===(e=this.state.type)||void 0===e?void 0:e.value});la.addUser(a).then((function(){t._alert.success("Usu\xe1rio cadastrado!",(function(){t.props.refresh(),C()("#registerModal").modal("hide")}))})).catch((function(e){409===e&&t._alert.warning("Usuario ja cadastrado!"),t._errStatusCode(e)})).finally((function(){return t.setState({isSaving:!1})}))}}},{key:"componentDidMount",value:function(){var e=this;this._storage.user.super_admin&&this._optionsType.unshift({value:1,label:"Administrador"}),C()("#registerModal").on("hidden.bs.modal",(function(){e.setState(Object(Ie.a)({},oa))})).on("show.bs.modal",(function(){e.props.userEdit&&(e.setState({isLoadEdit:!0}),e.data())}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,i=t.office,r=t.type,o=t.password,s=t.cpassword,c=t.showPassword,u=t.isSaving;return l.a.createElement("div",{className:"modal fade",id:"registerModal",tabIndex:"-1",role:"dialog","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},this.props.userEdit?"Editar usu\xe1rio":"Adicionar usu\xe1rio"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},this.state.isLoadEdit?l.a.createElement("center",null,l.a.createElement(T,{size:15})):l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Nome"),l.a.createElement("input",{id:"name",type:"text",value:null!==a&&void 0!==a?a:"",placeholder:"Nome",onChange:this._onChange.bind(this),className:"form-control ".concat(""===a&&"is-invalid")}),l.a.createElement("div",{className:"invalid-feedback"},"Digite seu nome.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{id:"email",type:"email",value:null!==n&&void 0!==n?n:"",placeholder:"Email",onChange:this._onChange.bind(this),className:"form-control ".concat(""===n&&"is-invalid")}),l.a.createElement("div",{className:"invalid-feedback"},"Digite seu melhor email."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Cargo"),l.a.createElement("input",{id:"office",type:"text",value:null!==i&&void 0!==i?i:"",placeholder:"Cargo",className:"form-control",onChange:this._onChange.bind(this)})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},!this.props.userEdit&&l.a.createElement(l.a.Fragment,null,l.a.createElement("label",null,"Tipo de usuario"),l.a.createElement(ce.a,{value:r,isLoading:!1,isClearable:!0,options:this._optionsType,placeholder:"Selecione o tipo de usu\xe1rio",onChange:function(t){return e.setState({type:t})}})),this.props.userEdit&&l.a.createElement(l.a.Fragment,null,l.a.createElement("label",null,"Tipo de usuario"),l.a.createElement("input",{readOnly:!0,type:"text",value:null!==r&&void 0!==r?r:"",placeholder:"Cargo",className:"form-control",style:{textTransform:"capitalize"}})))),!this.props.userEdit&&l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Password"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{id:"password",value:null!==o&&void 0!==o?o:"",placeholder:"Senha",onChange:this._onChange.bind(this),type:c?"text":"password",className:"form-control ".concat(""===o&&"is-invalid")}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this._onChangeShowPassword.bind(this)},l.a.createElement(b.a,{icon:c?"eye-slash":"eye"}))),l.a.createElement("div",{className:"invalid-feedback"},"Digite uma senha."))),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Confirm Password"),l.a.createElement("input",{id:"cpassword",value:null!==s&&void 0!==s?s:"",placeholder:"Confirmar Senha",onChange:this._onChange.bind(this),type:c?"text":"password",className:"form-control ".concat(""===s&&"is-invalid")}),l.a.createElement("div",{className:"invalid-feedback"},"As senhas nao coecidem.")))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",disabled:u,className:"btn btn-dark",onClick:function(){return e.props.userEdit?e.edit():e.register()}},u?l.a.createElement(T,{size:8,color:"white"}):"Salvar")))))}}]),a}(l.a.PureComponent),ca=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={health:null,healthUnits:[],isSaving:!1,isHealthUnits:!1},n._alert=new de,n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"_getHealthUnits",value:function(){var e=this;this.setState({isHealthUnits:!0}),la.getHealthUnits().then((function(t){return e.setState({healthUnits:t})})).catch((function(t){return e._errStatusCode(t)})).finally((function(){return e.setState({isHealthUnits:!1})}))}},{key:"_transferUser",value:function(){var e=this;this.setState({isSaving:!0}),la.transferUser(this.props.userCurrent.id,this.state.health.value).then((function(){e._alert.success("Usuario transferido!",(function(){e.props.refresh(),C()("#transferModal").modal("hide")}))})).catch((function(t){return e._errStatusCode(t)})).finally((function(){return e.setState({isSaving:!1})}))}},{key:"componentDidMount",value:function(){var e=this;C()("#transferModal").on("hidden.bs.modal",(function(){e.setState({healthUnits:[],health:null})})).on("shown.bs.modal",(function(){e._getHealthUnits()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.health,n=t.healthUnits,i=t.isHealthUnits,r=t.isSaving;return l.a.createElement("div",{className:"modal fade",id:"transferModal",tabIndex:"-1",role:"dialog","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},"Transfirir usuario de unidade de saude."),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(O,null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-4"},l.a.createElement("label",null,"Unidades de saude"),l.a.createElement(ce.a,{isClearable:!0,value:a,options:n,isLoading:i,placeholder:"Selecione a unidade de saude.",onChange:function(t){return e.setState({health:t})}}))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return e._transferUser()}},r?l.a.createElement(T,{size:8,color:"white"}):"Salvar")))))}}]),a}(l.a.PureComponent),ua=function(e,t){var a=[];if(!t)return e;for(var i=arguments.length,l=new Array(i>2?i-2:0),r=2;r<i;r++)l[r-2]=arguments[r];return l.length<=0&&l.push("name"),l.forEach((function(n){e.filter((function(e){return e[n].toLowerCase().indexOf(t.toLowerCase())>=0})).forEach((function(e){return a.push(e)}))})),Object(n.a)(new Set(a))},ma=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[],filter:"",isData:!0,showModal:!1,userEdit:!1,userCurrent:null},n._alert=new de,n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"_getUsers",value:function(){var e=this;la.getUsers().then((function(t){return e.setState({data:t})})).catch((function(t){e._errStatusCode(t),e.setState({data:[]})})).finally((function(){return e.setState({isData:!1})}))}},{key:"_filterKey",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"deleteUser",value:function(){var e=this;la.deleteUSer(this.state.userCurrent.id).then((function(){return e._alert.success("Usu\xe1rio deletado!",(function(){return e._getUsers()}))})).catch((function(t){return e._errStatusCode(t)})).finally((function(){return e.setState({showModal:!1})}))}},{key:"openDeleteModal",value:function(e){this.setState({showModal:!0,userCurrent:e})}},{key:"openRegisterModal",value:function(){this.setState({userCurrent:null,userEdit:!1},(function(){C()("#registerModal").modal("show")}))}},{key:"openEditModal",value:function(e){this.setState({userCurrent:e,userEdit:!0},(function(){C()("#registerModal").modal("show")}))}},{key:"openTransferModal",value:function(e){this.setState({userCurrent:e},(function(){C()("#transferModal").modal("show")}))}},{key:"componentDidMount",value:function(){if("admin"===this._storage.user.type||this._storage.user.super_admin)return this._getUsers();ra.withoutPermissionVizualization(this.props.history,"/patient")}},{key:"render",value:function(){var e=this,t=this.state,a=t.isData,n=t.userEdit,i=t.userCurrent;return l.a.createElement("div",{id:"user"},l.a.createElement(U,{titleComponent:"Usu\xe1rios",icon:"user-friends"}),l.a.createElement(L,{subtitle:"Deletar",title:"Deletar Usu\xe1rio",oneButtonTitle:"Confirmar",twoButtonTitle:"Cancelar",oneButtonIcon:"trash-alt",visible:this.state.showModal,oneButtonOnclick:function(){return e.deleteUser()},onClickAway:function(){return e.setState({showModal:!1})},desc:"Ao confirmar esta a\xe7\xe3o, o usu\xe1rio ser\xe1 excluso do sistema sem chances de recupera\xe7\xe3o de dados, deseja realmente continuar?"}),l.a.createElement(sa,{userEdit:n,userCurrent:i,refresh:this._getUsers.bind(this)}),l.a.createElement(ca,{userCurrent:i,refresh:this._getUsers.bind(this)}),l.a.createElement(I,null,l.a.createElement(O,{titleHeader:"Gerenciamento de usu\xe1rios da plataforma.",styleBox:{borderTopLeftRadius:7,borderTopRightRadius:7}},l.a.createElement(k,null,l.a.createElement(Q,{placeholderSearch:"Pesquisar",onFilter:this._filterKey.bind(this),onClickNewButton:this.openRegisterModal.bind(this)})),l.a.createElement("div",{className:"container__table",style:{marginTop:15}},l.a.createElement(ia,{isData:a,logged:this._storage.user,onEdit:this.openEditModal.bind(this),onDelete:this.openDeleteModal.bind(this),onTransfer:this.openTransferModal.bind(this),data:ua(this.state.data,this.state.filter,"name","email")||[]})))))}}]),a}(l.a.PureComponent),da=Object(h.g)(ma),ha=(a(188),a(189),function(e){var t=e.recovery,a=e.onChangeEmail,n=e.onChangePass,i=e.auth,r=e.showPass,o=e.visiblePassword,s=e.isLoad,c=e.alertError;return l.a.createElement("div",{className:"container__boxLogin"},l.a.createElement("div",{id:"oneBox",className:"subdivision__boxLogin"},l.a.createElement("div",{className:"container__text__informative"},l.a.createElement("h1",{className:"text__title__boxLogin"},"Login"),l.a.createElement("h2",{className:"text__subtitle__boxLogin"},"Somente profissionais da sa\xfade possuem acesso na plataforma para visualizar e administrar informa\xe7\xf5es dos pacientes que est\xe3o em monitoramento."))),l.a.createElement("div",{id:"twoBox",className:"subdivision__boxLogin container__boxLoginn"},l.a.createElement("div",{className:"icon__boxLogin"}),l.a.createElement("div",{className:"alert alert-".concat(c.alert," alert-dismissible show mt-3 alert__").concat("login"==c.className&&c.className),role:"alert"},l.a.createElement("strong",null,c.title),"\xa0",c.message,l.a.createElement("button",{onClick:function(){return C()(".alert").fadeOut("slow")},type:"button",className:"close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"container__card__boxLogin"},l.a.createElement("div",{className:"container__input__boxLogin"},l.a.createElement(b.a,{className:"icons__input",icon:"user",color:"rgba(0, 184, 138, 1",size:"2x"}),l.a.createElement("input",{type:"text",className:"input",placeholder:"Usu\xe1rio",onChange:function(e){return a(e.target.value)}}))),l.a.createElement("div",{className:"container__card__boxLogin"},l.a.createElement("div",{className:"container__input__boxLogin"},l.a.createElement(b.a,{className:"icons__input",icon:"lock",color:"rgba(0, 184, 138, 1",size:"2x"}),l.a.createElement("input",{className:"input",placeholder:"Senha",type:o?"password":"text",onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&i()}}),l.a.createElement(b.a,{size:"2x",onClick:r,className:"icons__input",style:{cursor:"pointer"},color:"rgba(0, 184, 138, .7",icon:o?"eye-slash":"eye"}))),l.a.createElement("button",{className:"recovery__text__boxLogin",onClick:t},"Esqueceu sua senha?"),l.a.createElement("button",{type:"submit",className:"button__boxLogin",onClick:i},s?l.a.createElement(T,{color:"white",size:10}):l.a.createElement("h1",{className:"label__button__boxLogin"},"ENTRAR"))))}),fa=(a(190),function(e){var t=e.nextRecovery,a=e.backRecovery,n=e.onChangeEmail,i=e.load,r=e.alertError;return l.a.createElement("div",{className:"container__boxEmail"},l.a.createElement("div",{id:"one__boxEmail",className:"subdivision__card"},l.a.createElement("button",{className:"button__back",onClick:a},l.a.createElement(b.a,{icon:"arrow-left",style:{cursor:"pointer"},color:"rgba(0, 184, 138, 1)"})),l.a.createElement("div",{className:"container__text__informative",style:{marginTop:"-70px"}},l.a.createElement("h1",{className:"text__title__boxEmail"},"Insira seu E-mail"),l.a.createElement("h2",{className:"text__subtitle__boxEmail"},"Forne\xe7a seu E-mail ao lado para que possamos enviar o c\xf3digo de recupera\xe7\xe3o de senha."))),l.a.createElement("div",{className:"subdivision__card container__boxEmaill"},l.a.createElement("div",{id:"mobile__boxEmail"},l.a.createElement("button",{className:"button__back",onClick:a},l.a.createElement(b.a,{icon:"arrow-left"}))),l.a.createElement("div",{className:"icon__custom__email"},l.a.createElement("div",{className:"iconCustom__boxEmail",style:{paddingBottom:"0px"}},l.a.createElement(b.a,{className:"iconCustomContent__boxEmail",icon:"envelope",color:"white",size:"2x"}))),l.a.createElement("div",{className:"alert alert-".concat(r.alert," alert-dismissible show mt-3 alert__").concat("email"==r.className&&r.className),role:"alert"},l.a.createElement("strong",null,r.title),"\xa0",r.message,l.a.createElement("button",{onClick:function(){return C()(".alert").fadeOut("slow")},type:"button",className:"close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"container__card__boxEmail"},l.a.createElement("div",{className:"container__input__boxEmail"},l.a.createElement(b.a,{className:"icons__input__boxEmail",icon:"user"}),l.a.createElement("input",{placeholder:"E-mail",className:"input__reverse__Email",onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&t()}}))),l.a.createElement("button",{className:"button__boxEmail",onClick:t},i?l.a.createElement(T,{size:10}):l.a.createElement("h1",{className:"label__button__boxEmail"},"ENVIAR"))))}),pa=(a(191),function(e){var t=e.nextRecovery,a=e.backRecovery,n=e.onChangeCode,i=e.load,r=e.refreshCode,o=e.alertError;return l.a.createElement("div",{className:"container__boxCode"},l.a.createElement("button",{className:"button__back__boxCode",onClick:a},l.a.createElement(b.a,{icon:"arrow-left",style:{cursor:"pointer"},size:"2x"})),l.a.createElement("div",{className:"container__full"},l.a.createElement("div",{className:"header__boxCode"},l.a.createElement("div",{className:"icon__custom__boxCode"},l.a.createElement(b.a,{icon:"envelope-open-text",color:"white"})),l.a.createElement("h1",{className:"text__title__boxCode"},"Digite o C\xf3digo")),l.a.createElement("h2",{className:"text__subtitle__boxCode"},"Estamos quase l\xe1! Agora digite abaixo o c\xf3digo que enviamos no seu E-mail."),l.a.createElement("div",{className:"alert alert-".concat(o.alert," alert-dismissible show mt-3 alert__").concat("code"==o.className&&o.className),role:"alert"},l.a.createElement("strong",null,o.title),"\xa0",o.message,l.a.createElement("button",{onClick:function(){return C()(".alert").fadeOut("slow")},type:"button",className:"close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"container__card__code"},l.a.createElement("div",{className:"container__input__boxCode"},l.a.createElement("input",{type:"text",maxLength:"6",className:"input__boxCode",onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&t()}}))),l.a.createElement("button",{className:"button__boxCode",onClick:t},i?l.a.createElement(T,{color:"white",size:10}):l.a.createElement("h1",{className:"label__button__boxCode"},"VALIDAR C\xd3DIGO")),l.a.createElement("button",{className:"recovery__text__boxCode",onClick:r},"Reenviar C\xf3digo")))}),ba=(a(192),function(e){var t=e.nextRecovery,a=e.visiblePassword,n=e.backRecovery,i=e.onChangeOne,r=e.onChangeTwo,o=e.showPass,s=e.load,c=e.alertError;return l.a.createElement("div",{className:"container__boxPassword"},l.a.createElement("div",{id:"one",className:"subdivision__card"},l.a.createElement("button",{className:"button__arrow__back",onClick:n},l.a.createElement(b.a,{icon:"arrow-left",style:{cursor:"pointer"},color:"white",size:"2x"})),l.a.createElement("div",{className:"container__text__informative"},l.a.createElement("h1",{className:"text__title__boxPassword"},"Nova senha"),l.a.createElement("h2",{className:"text__subtitle__boxPassword"},"Agora basta inserir sua nova senha. E para sua seguran\xe7as aplicamos algumas regras, tais como:"),l.a.createElement("ul",{style:{paddingTop:"5px"}},l.a.createElement("li",{className:"item__reqs"}," ",l.a.createElement(b.a,{icon:"arrow-alt-circle-right"})," Pelo menos 1 N\xfamero "),l.a.createElement("li",{className:"item__reqs"}," ",l.a.createElement(b.a,{icon:"arrow-alt-circle-right"})," Pelo menos 1 letra "),l.a.createElement("li",{className:"item__reqs"}," ",l.a.createElement(b.a,{icon:"arrow-alt-circle-right"})," Pelo menos 6 caracteres")))),l.a.createElement("div",{id:"two",className:"subdivision__card container__boxLoginn"},l.a.createElement("div",{className:"icon__boxPassword"}),l.a.createElement("div",{className:"alert alert-".concat(c.alert," alert-dismissible show mt-3 alert__").concat("password"==c.className&&c.className),role:"alert"},l.a.createElement("strong",null,c.title),"\xa0",c.message,l.a.createElement("button",{onClick:function(){return C()(".alert").fadeOut("slow")},type:"button",className:"close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"container__card__boxPassword"},l.a.createElement("div",{className:"container__input__boxPassword"},l.a.createElement(b.a,{className:"icons__input",icon:"lock",color:"rgba(0, 184, 138, 1",size:"2x"}),l.a.createElement("input",{className:"input",placeholder:"Senha",type:a?"password":"text",onChange:function(e){return i(e.target.value)}}),l.a.createElement(b.a,{size:"2x",onClick:o,className:"icons__input",style:{cursor:"pointer"},color:"rgba(0, 184, 138, .7",icon:a?"eye":"eye-slash"}))),l.a.createElement("div",{className:"container__card__boxPassword"},l.a.createElement("div",{className:"container__input__boxPassword"},l.a.createElement(b.a,{className:"icons__input",icon:"lock",color:"rgba(0, 184, 138, 1",size:"2x"}),l.a.createElement("input",{className:"input",placeholder:"Confirmar senha",type:a?"password":"text",onChange:function(e){return r(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&t()}}))),l.a.createElement("button",{className:"button__boxPassword",onClick:t},s?l.a.createElement(T,{size:10,color:"white"}):l.a.createElement("h1",{className:"label__button__boxPassword"},"ENTRAR"))))}),Ea=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isScroll:0,isLoading:!1,isCarrosel:!1,isEmail:"",isPassword:"",isShowPass:!0,alertError:{alert:null,title:null,message:null},isEmailRecovery:"",isCode:0,isTwoPass:"",isOnePass:"",isShowRecovery:!0},n._average=/(?=.*[a-z])(?=.*[0-9])(?=.{6,}).*/,n}return Object(u.a)(a,[{key:"tratativeDefaultError",value:function(e,t,a,n){switch(e){case 500:this.alertLogin("danger",t,"Erro no servidor!","Tente novamente mais tarde!");break;case 400:this.alertLogin("danger",t,"Erro no cliente!","Tente novamente mais tarde!");break;default:this.alertLogin("danger",t,a||"Erro!",n||"Nada foi encontrado")}}},{key:"alertLogin",value:function(e,t,a,n){C()(".alert").css("display","none"),this.setState({alertError:{alert:e,className:t,title:a,message:n}},(function(){return C()(".alert__".concat(t)).fadeIn("slow")}))}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.isEmail,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.isPassword;t&&a?(this.setState({isLoading:!0}),Pt.authToken(t,a).then((function(e){var t=new Date,a=new Date;a.setSeconds(t.getSeconds()+(e.expires_in-10));var n={access_token:e.access_token,refresh_token:e.refresh_token,expires_in:a.toISOString()};s.a.defaults.headers.common.Authorization=n.access_token,m.setObject("token",n)})).then((function(){Pt.getUser().then((function(t){m.setObject("user",t),e.props.history.push("/patients")})).catch((function(t){return e.tratativeDefaultError(t,"error-default",null,null)}))})).catch((function(t){e.tratativeDefaultError(t,"login","Erro!","Usu\xe1rio ou senha incorreta.")})).finally((function(){e.setState({isLoading:!1})}))):this.alertLogin("warning","login","Aten\xe7\xe3o!","Preencha todos os campos!")}},{key:"recoveryEmail",value:function(){var e=this;this.state.isEmailRecovery?(this.setState({isLoading:!0}),Pt.recoveryEmail(this.state.isEmailRecovery).then((function(){C()(".alert").fadeOut("slow"),e.moveCarousel(2)})).catch((function(t){e.tratativeDefaultError(t,"email","Erro!","E-mail de usu\xe1rio n\xe3o encontrado.")})).finally((function(){e.setState({isLoading:!1})}))):this.alertLogin("warning","email","Aten\xe7\xe3o!","Preencha o campo com seu E-mail")}},{key:"recoveryCode",value:function(){var e=this;this.state.isCode?(this.setState({isLoading:!0}),Pt.recoveryCode(this.state.isCode).then((function(){e.moveCarousel(3)})).catch((function(t){e.tratativeDefaultError(t,"code","Erro!","C\xf3digo de recupera\xe7\xe3o inv\xe1lido.")})).finally((function(){e.setState({isLoading:!1})}))):this.alertLogin("warning","code","Ops!","Preencha o campo com o seu c\xf3digo.")}},{key:"recoveryPass",value:function(){var e=this;this.state.isOnePass&&this.state.isTwoPass&&this.state.isOnePass===this.state.isTwoPass?this._average.test(this.state.isOnePass)?(this.setState({isLoading:!0}),Pt.recoveryPass(this.state.isOnePass,this.state.isCode).then((function(){e.login(e.state.isEmailRecovery,e.state.isOnePass)})).catch((function(t){e.tratativeDefaultError(t,null,null)})).finally((function(){e.setState({isLoading:!1})}))):this.alertLogin("warning","password","Aten\xe7\xe3o!","Senha muito fraca, crie uma conforme os requisitos."):this.alertLogin("warning","password","Aten\xe7\xe3o!","Preencha o campo de senha corretamente.")}},{key:"moveCarousel",value:function(e){this.setState({isScroll:e})}},{key:"componentDidMount",value:function(){document.onkeydown=function(e){if("Tab"===e.key)return!1}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/"},l.a.createElement("button",{className:"back__dashboard"},l.a.createElement("span",null,l.a.createElement(b.a,{icon:"angle-left"})))),l.a.createElement("div",{className:"container__all"},l.a.createElement("div",{className:"body__login"},l.a.createElement("div",{className:"carousel"},l.a.createElement("div",{id:"realist__carousel"},l.a.createElement("div",{className:Pt.scrollCarousel(this.state.isScroll)},l.a.createElement(ha,{alertError:this.state.alertError,isLoad:this.state.isLoading,auth:function(){return e.login()},recovery:function(){return e.moveCarousel(1)},visiblePassword:this.state.isShowPass,onChangeEmail:function(t){return e.setState({isEmail:t})},onChangePass:function(t){return e.setState({isPassword:t})},showPass:function(){return e.setState({isShowPass:!e.state.isShowPass})}}),l.a.createElement(fa,{alertError:this.state.alertError,load:this.state.isLoading,nextRecovery:function(){return e.recoveryEmail()},backRecovery:function(){return e.moveCarousel(0)},onChangeEmail:function(t){return e.setState({isEmailRecovery:t})}}),l.a.createElement(pa,{alertError:this.state.alertError,load:this.state.isLoading,refreshCode:function(){return e.recoveryEmail()},nextRecovery:function(){return e.recoveryCode()},backRecovery:function(){return e.moveCarousel(0)},onChangeCode:function(t){return e.setState({isCode:t})}}),l.a.createElement(ba,{alertError:this.state.alertError,load:this.state.isLoading,nextRecovery:function(){return e.recoveryPass()},visiblePassword:this.state.isShowRecovery,backRecovery:function(){return e.moveCarousel(0)},onChangeTwo:function(t){return e.setState({isTwoPass:t})},onChangeOne:function(t){return e.setState({isOnePass:t})},showPass:function(){return e.setState({isShowRecovery:!e.state.isShowRecovery})}})))))))}}]),a}(l.a.PureComponent),va=Object(h.g)(Ea),ga=(a(193),function(e){var t=e.data,a=e.logged,n=e.isData,r=e.isModalDefineExam,o=e.isModalSetDeath,s=e.isGetPatientEdit,c=e.isGetCallsPatient,u=e.isModalSetDelete,m=e.isGetFamilyPatient,d=Object(i.useState)(window.innerWidth),h=Object(aa.a)(d,2),f=h[0],p=h[1];Object(i.useEffect)((function(){var e=function(){return p(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var E=f<=640,v=[{dataField:"name",text:"Nome",sort:!0,hidden:E},{dataField:"cns",text:"CNS",sort:!0},{dataField:"telephone",text:"Telefone",sort:!0,hidden:E},{headerAlign:"center",dataField:"conduct",text:"Condulta",sort:!0,hidden:E},{dataField:"in_isolation",align:"center",text:"Isolamento",sort:!0,formatter:function(e,t){return l.a.createElement(b.a,{color:t.in_isolation?"#009587":"black",icon:t.in_isolation?"user-check":"user-times"})},hidden:E},{dataField:"exam_result",text:"Resultado",align:"center",headerAlign:"center",sort:!0,formatter:function(e,t){return l.a.createElement("span",{style:{color:g(t.exam_result)}},t.exam_result," \xa0",l.a.createElement(b.a,{icon:_(t.exam_result)||"user-clock"}))}},{dataField:"actions",align:"center",headerAlign:"center",text:"A\xe7\xf5es",sort:!0,formatter:function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"}},l.a.createElement("div",{className:"list__actions action-".concat(t.id),style:{display:"none"}},l.a.createElement("button",{"data-for":"button-death","data-tip":"Definir \xf3bito",className:"btn btn-sm btn-dark ml-2",onClick:function(){return o({visible:!0,idPatient:t.id})}},l.a.createElement(b.a,{icon:"heart-broken",color:"white"})),l.a.createElement(na.a,{id:"button-death",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{"data-for":"button-edit","data-tip":"Editar paciente",className:"btn btn-sm btn-secondary ml-2",onClick:function(){return s(t.id)}},l.a.createElement(b.a,{icon:"pencil-alt",color:"white"})),l.a.createElement(na.a,{id:"button-edit",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{"data-for":"button-trash","data-tip":"Excluir paciente",className:"btn btn-sm btn-danger ml-2",onClick:function(){return u({visible:!0,idPatient:t.id})}},l.a.createElement(b.a,{icon:"times",color:"white"})),l.a.createElement(na.a,{id:"button-trash",place:"top",type:"dark",effect:"solid"}),"Aguardando Resultado"===t.exam_result&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{"data-toggle":"modal","data-for":"button-option-exam","data-target":"#modal_define_exam","data-tip":"Definir exame do paciente",className:"btn btn-sm btn-success ml-2",onClick:function(){return r({idPatient:t.id,namePatient:t.name})}},l.a.createElement(b.a,{icon:"diagnoses",color:"white",size:"xs"})),l.a.createElement(na.a,{id:"button-option-exam",place:"top",type:"dark",effect:"solid"})),l.a.createElement("button",{"data-target":"#see_family","data-toggle":"modal","data-for":"button-see-family","data-tip":"Ver familiares/conviv\xeancia",className:"btn btn-sm btn-info ml-2",onClick:function(){return m(t.id)}},l.a.createElement(b.a,{icon:"users",color:"white"})),l.a.createElement(na.a,{id:"button-see-family",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{"data-target":"#see_calls","data-toggle":"modal","data-for":"button-see-calls","data-tip":"Ver liga\xe7\xf5es do paciente",className:"btn btn-sm btn-primary ml-2",onClick:function(){return c(t.id)}},l.a.createElement(b.a,{icon:"phone-alt",color:"white"})),l.a.createElement(na.a,{id:"button-see-calls",place:"top",type:"dark",effect:"solid"})),l.a.createElement("button",{"data-tip":"A\xe7\xf5es","data-for":"button-actions",className:"btn btn-actions btn-sm btn-dark",disabled:"municipal"===a.type,onClick:function(){C()(".action-".concat(t.id)).is(":hidden")?(C()(".list__actions").fadeOut(),C()(".action-".concat(t.id)).fadeIn()):C()(".action-".concat(t.id)).fadeOut()}},l.a.createElement(b.a,{icon:"plus",color:"white"})),l.a.createElement(na.a,{id:"button-actions",place:"top",type:"dark",effect:"solid"}))},hidden:f<=930}],g=function(e){switch(e){case"Positivo":return"#ff0000";case"Negativo":return"#00a47b";default:return"#086aff"}};function _(e){return"Positivo"===e?"exclamation-circle":"Negativo"===e?"virus-slash":void 0}return l.a.createElement(X,{keyField:"id",data:t,isData:n,columns:v})});a(194),a(195);Ut.a.tz("America/Sao_Paulo");var _a,ya=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getMoment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pt-br";return Ut()(e).locale(t)}},{key:"formatCustom",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pt-br";return Ut()(e).locale(a).format(t)}},{key:"fromNow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pt-br";return Ut()(e).locale(t).fromNow()}}]),e}(),Ca=function(e){var t=e.callsPatient,a=e.isLoadSeeCalls;return l.a.createElement("div",{className:"modal fade",id:"see_calls","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},"Liga\xe7\xf5es do paciente"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container__calls"},a?l.a.createElement("center",null,l.a.createElement(T,{size:15})):t.length<=0?l.a.createElement("center",null,"Nenhuma liga\xe7\xe3o encontrada."):t.map((function(e,t){return l.a.createElement(i.Fragment,{key:t},e.completed&&e.description?l.a.createElement("div",null,l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",null,"Liga\xe7\xe3o ",t+1," - ",l.a.createElement("strong",null,ya.formatCustom(new Date(e.date),"DD/MM/YYYY"))),l.a.createElement("p",null,e.description))):l.a.createElement("div",null,l.a.createElement("h5",{style:{borderBottom:"1px solid rgb(224, 224, 224)",paddingBottom:10,paddingTop:10}},"Data para registro de liga\xe7\xe3o:\xa0",l.a.createElement("strong",null,ya.formatCustom(new Date(e.date),"DD/MM/YYYY")==ya.formatCustom(new Date,"DD/MM/YYYY")?l.a.createElement("span",null,ya.formatCustom(new Date(e.date),"DD/MM/YYYY"),l.a.createElement("b",{style:{color:"rgb(223 134 0)",fontWeight:"normal"}},"\xa0Registrar hoje\xa0",l.a.createElement(d.b,{to:"/phonecalls"},l.a.createElement("button",{"data-for":"button-new-register-calls","data-tip":"Registrar liga\xe7\xe3o de hoje",onClick:function(){return C()("#see_calls").modal("hide")},className:"button__calls"},l.a.createElement(b.a,{icon:"phone-square"})),l.a.createElement(na.a,{id:"button-new-register-calls",place:"top",type:"dark",effect:"solid"})))):ya.formatCustom(new Date,"DD")>ya.formatCustom(new Date(e.date),"DD")||ya.formatCustom(new Date,"MM")>ya.formatCustom(new Date(e.date),"MM")||ya.formatCustom(new Date,"YYYY")>ya.formatCustom(new Date(e.date),"YYYY")?l.a.createElement("span",null,ya.formatCustom(new Date(e.date),"DD/MM/YYYY"),l.a.createElement("b",{style:{color:"#e30000",fontWeight:"normal"}},"\xa0N\xe3o registrada\xa0",l.a.createElement(d.b,{to:"/phonecalls"},l.a.createElement("button",{"data-for":"button-not-register-calls","data-tip":"Registrar liga\xe7\xe3o atrasada",onClick:function(){return C()("#see_calls").modal("hide")},className:"button__calls"},l.a.createElement(b.a,{icon:"phone-square"})),l.a.createElement(na.a,{id:"button-not-register-calls",place:"top",type:"dark",effect:"solid"})))):(ya.formatCustom(new Date(e.date),"MM")>ya.formatCustom(new Date,"MM")||ya.formatCustom(new Date(e.date),"DD")>ya.formatCustom(new Date,"DD")||ya.formatCustom(new Date(e.date),"YYYY")>ya.formatCustom(new Date,"YYYY"))&&l.a.createElement("span",null,ya.formatCustom(new Date(e.date),"DD/MM/YYYY"),l.a.createElement("b",{style:{color:"rgb(0 159 86)",fontWeight:"normal"}},"\xa0Registrar em breve\xa0",l.a.createElement("span",{style:{fontSize:15}},l.a.createElement(b.a,{icon:"calendar-day"}))))))))})))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancelar")))))},wa=(a(198),function(e){var t=e.familyPatient,a=e.isLoadSeeFamily;return l.a.createElement("div",{className:"modal fade",id:"see_family","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},t.length>0?"".concat(1===t.length?"".concat(t.length," Familiar do paciente"):"".concat(t.length," Familiares do paciente")):"Familiares do paciente"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container__family"},l.a.createElement(k,null,a?l.a.createElement("center",null,l.a.createElement(T,{size:15})):t.length<=0?l.a.createElement("center",null,"Nenhum familiar encontrado."):t.map((function(e,t){return l.a.createElement(i.Fragment,{key:t},l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement(O,{styleBox:{border:"1px solid #dedede",borderRadius:7,margin:0},styleHeader:{borderTop:"3px solid #00b88a",borderTopLeftRadius:7,borderTopRightRadius:7}},l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},l.a.createElement("label",{style:{textTransform:"capitalize"}},l.a.createElement("strong",null,"Nome:"),"\xa0",e.name))),l.a.createElement("div",{className:"content__card__family"},l.a.createElement("span",null,l.a.createElement("strong",null,"Estado:")," ",l.a.createElement(l.a.Fragment,null,e.symptomatic?"Sintom\xe1tico":"Assintom\xe1tico")),l.a.createElement(P,null),l.a.createElement("br",null),l.a.createElement("span",null,l.a.createElement("strong",null,"Exame:")," ",l.a.createElement(l.a.Fragment,null,e.exam_result)),l.a.createElement(P,null),l.a.createElement("br",null),l.a.createElement("span",null,l.a.createElement("strong",null,"Tipo de membro:")," ",l.a.createElement(l.a.Fragment,null,e.kinship)),l.a.createElement(P,null)))))}))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancelar")))))}),Na=function(e){var t=e.idPatient,a=e.namePatient,n=e.onSubmitExamPatient;return l.a.createElement("div",{className:"modal fade",id:"modal_define_exam"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white",border:0}},l.a.createElement("h5",{className:"modal-title"},"Definir exame de ",l.a.createElement("strong",null,a)),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body",style:{backgroundColor:"#333c44"}},l.a.createElement("center",null,l.a.createElement("button",{type:"button",className:"btn btn-danger mr-5",onClick:function(){return n(t,"Positivo")}},l.a.createElement(b.a,{icon:"virus"}),"\xa0Positivo"),l.a.createElement("button",{type:"button",className:"btn btn-success ml-5",onClick:function(){return n(t,"Negativo")}},l.a.createElement(b.a,{icon:"virus-slash"}),"\xa0Negativo"))))))},xa=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getPatients",value:function(){return new Promise((function(e,t){return(new kt).run(new Ye).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"getUniquePatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new dt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"getFamilyPatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new Xe(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"getCallsPatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new Nt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"getDataCounterPatients",value:function(){return new Promise((function(e,t){return(new kt).run(new ft).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"deletePatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new Ke(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"setDeathPatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new qe(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"setExamResultPatient",value:function(e,t){return new Promise((function(a,n){return(new kt).run(new mt(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}},{key:"insertPatient",value:function(e){return new Promise((function(t,a){return(new kt).run(new Ge(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"editPatient",value:function(e,t){return new Promise((function(a,n){return(new kt).run(new Me(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}}]),e}(),ka=a(22),Pa=function(e){var t=e.text;return l.a.createElement("button",{className:"btn mr-5",style:{borderTop:"2px solid black"}},t)},Oa=function(e){var t=e.onChangeFormValue,a=e.onChangeFormValueOption,n=e.infoPatient,i=e.isClassErrorsValues;return l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Nome completo:"),l.a.createElement("input",{type:"text",id:"name",placeholder:"Nome",onChange:t,value:n.name||"",className:"form-control ".concat(i.name)}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o nome do paciente.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Data de nascimento:"),l.a.createElement("input",{type:"date",id:"birth",placeholder:"Data de nascimento",onChange:t,value:n.birth,className:"form-control ".concat(i.birth)}),l.a.createElement("div",{className:"invalid-feedback"},"Digite a data de nascimento.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Endere\xe7o:"),l.a.createElement("input",{type:"text",id:"address",placeholder:"Endere\xe7o",onChange:t,value:n.address||"",className:"form-control ".concat(i.address)}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o endere\xe7o."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Cidade:"),l.a.createElement("input",{type:"text",id:"city",placeholder:"Cidade",value:n.city||"",onChange:t,className:"form-control"})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Telefone:"),l.a.createElement("input",{type:"number",id:"telephone",placeholder:"Telefone",onChange:t,value:n.telephone||"",className:"form-control ".concat(i.telephone)}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o telefone."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"CNS:"),l.a.createElement("input",{type:"number",id:"cns",placeholder:"Cart\xe3o Nacional de Sa\xfade",onChange:t,value:n.cns||"",className:"form-control ".concat(i.cns),maxLength:20}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o CNS.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Plano de sa\xfade:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},className:i.health_plan,value:{label:n.health_plan||"Nenhuma op\xe7\xe3o foi selecionada",value:n.health_plan||null},options:[{id:"health_plan",value:"SUS",label:"SUS"},{id:"health_plan",value:"Particular",label:"Particular"}],placeholder:"Ver op\xe7\xf5es",onChange:a}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Observa\xe7\xf5es Gerais:"),l.a.createElement("textarea",{type:"text",id:"description",className:"form-control",placeholder:"Informa\xe7\xf5es relevantes",onChange:t,value:n.description||""})))))},Sa=function(e){var t=e.onChangeFormValue,a=e.onChangeFormValueOption,n=e.infoPatient,i=e.isClassErrorsValues,r=e.isEdit;return l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Em isolamento:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},className:"".concat(i.in_isolation),value:r?{label:("Sim"==n.in_isolation?"Sim":"N\xe3o"==n.in_isolation&&"N\xe3o")||"Nennuma op\xe7\xe3o selecionada",value:("Sim"==n.in_isolation?"Sim":"N\xe3o"==n.in_isolation&&"N\xe3o")||null}:{label:r||n.in_isolation?n.in_isolation:"Nenhuma op\xe7\xe3o selecionada",value:r||n.in_isolation?n.in_isolation:null},options:[{id:"in_isolation",value:"Sim",label:"Sim"},{id:"in_isolation",value:"N\xe3o",label:"N\xe3o"}],placeholder:"Ver op\xe7\xf5es",onChange:a}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Primeira Avalia\xe7\xe3o M\xe9dica:"),l.a.createElement("input",{type:"text",id:"first_evaluation",className:"form-control",value:n.first_evaluation||"",placeholder:"Avalia\xe7\xe3o M\xe9dica",onChange:t})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Data de inicio dos sintomas:"),l.a.createElement("input",{type:"date",id:"early_symptoms",className:"form-control",value:n.early_symptoms||"",placeholder:"Data de inicio dos sintomas",onChange:t}))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Data da coleta do exame:"),l.a.createElement("input",{type:"date",id:"exam_collection",readOnly:r,className:"form-control ".concat(i.exam_collection),value:n.exam_collection||"",placeholder:"Data da coleta do exame",onChange:t}),l.a.createElement("div",{className:"invalid-feedback"},"Preencha este campo.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Tipo de exame:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:"".concat(i.exam_type),value:{label:n.exam_type||"Nenhuma op\xe7\xe3o foi selecionada",value:n.exam_type||null},options:[{id:"exam_type",value:"PCR-RT",label:"PCR-RT"},{id:"exam_type",value:"Sorologia",label:"Sorologia"},{id:"exam_type",value:"Teste R\xe1pido",label:"Teste R\xe1pido"}],onChange:a,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Resultado do exame:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:"".concat(i.exam_result),value:{label:n.exam_result||"Nenhuma op\xe7\xe3o foi selecionada",value:n.exam_result||null},options:[{id:"exam_result",value:"Positivo",label:"Positivo"},{id:"exam_result",value:"Negativo",label:"Negativo"},{id:"exam_result",value:"Aguardando Resultado",label:"Aguardando Resultado"}],onChange:a,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Data do resultado:"),l.a.createElement("input",{type:"date",id:"exam_result_date",readOnly:r,className:"form-control",value:n.exam_result_date||"",placeholder:"Data de resultado do exame",onChange:t})))))},ja=function(e){var t=e.onChangeFormValueOption,a=e.onChangeMultiOptionsRegister,n=e.infoPatient,i=e.isClassErrorsValues,r=e.isEdit;return l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Comorbidades:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,value:r?{label:n.comorbidities||null,value:n.comorbidities||null}:n.value,options:[{id:"comorbidities",value:"HAS",label:"HAS"},{id:"comorbidities",value:"DM",label:"DM"},{id:"comorbidities",value:"Doen\xe7a pulmonar",label:"Doen\xe7a pulmonar"},{id:"comorbidities",value:"Gestante",label:"Gestante"},{id:"comorbidities",value:"Doen\xe7a Card\xedaca",label:"Doen\xe7a Card\xedaca"},{id:"comorbidities",value:"Doen\xe7a Hematol\xf3gica",label:"Doen\xe7a Hematol\xf3gica"},{id:"comorbidities",value:"Doen\xe7a Oncol\xf3gica",label:"Doen\xe7a Oncol\xf3gica"},{id:"comorbidities",value:"Imunodefici\xeancia",label:"Imunodefici\xeancia"},{id:"comorbidities",value:"Obesidade",label:"Tabagismo"}],isMulti:!0,onChange:a,placeholder:"Ver op\xe7\xf5es"})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Orienta\xe7\xe3o:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.orientation,value:{label:n.orientation||"Nenhuma op\xe7\xe3o foi selecionada",value:n.orientation||null},options:[{id:"orientation",value:"Bem",label:"Bem"},{id:"orientation",value:"Confuso",label:"Confuso"},{id:"orientation",value:"Sonolento",label:"Sonolento"}],onChange:t,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Apetite:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.appetite,value:{label:n.appetite||"Nenhuma op\xe7\xe3o foi selecionada",value:n.appetite||null},options:[{id:"appetite",value:"Bom",label:"Bom"},{id:"appetite",value:"Diminu\xeddo",label:"Diminu\xeddo"},{id:"appetite",value:"Anor\xe9tico",label:"Anor\xe9tico"}],onChange:t,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Sinais:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.signals,value:r?{label:n.signals||null,value:n.signals||null}:n.value,options:[{id:"signals",value:"Coriza",label:"Coriza"},{id:"signals",value:"Dor Articular",label:"Dor Articular"},{id:"signals",value:"Dor Muscular",label:"Dor Muscular"},{id:"signals",value:"Dor de Garganta",label:"Dor de Gargante"},{id:"signals",value:"Diarreia",label:"Diarreia"},{id:"signals",value:"Dor de cabe\xe7a",label:"Dor de cabe\xe7a"},{id:"signals",value:"Perda de paladar",label:"Perda de paladar"},{id:"signals",value:"Erup\xe7\xe3o Cut\xe2nea",label:"Erup\xe7\xe3o Cut\xe2nea"},{id:"signals",value:"Conjuntivite",label:"Conjuntivite"}],isMulti:!0,onChange:a,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Febre:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.fever,value:{label:(1==n.fever?"Ausente":2==n.fever&&"Um pico baixo")||3==n.fever&&"Febre Persistente-3 Picos por dia"||"Nenhuma op\xe7\xe3o foi selecionada",value:n.fever||null},options:[{id:"fever",value:"1",label:"Ausente"},{id:"fever",value:"2",label:"Um pico baixo"},{id:"fever",value:"3",label:"Febre Persistente-3 Picos por dia"}],onChange:t,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4 mb-3"},l.a.createElement("label",null,"Tosse:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.cough,value:{label:(1==n.cough?"Ausente":2==n.cough&&"Consegue falar sem tossir")||3==n.cough&&"N\xe3o completa uma frase sem tossir"||"Nenhuma op\xe7\xe3o foi selecionada",value:n.cough||null},options:[{id:"cough",value:"1",label:"Ausente"},{id:"cough",value:"2",label:"Consegue falar sem tossir"},{id:"cough",value:"3",label:"N\xe3o completa uma frase sem tossir"}],onChange:t,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Falta de Ar/Cansa\xe7o:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},isDisabled:r,className:i.shortness_breath,value:{label:(1==n.shortness_breath?"Ausente":2==n.shortness_breath&&"Presente ao esfor\xe7o")||3==n.shortness_breath&&"Intensa no repouso"||"Nenhuma op\xe7\xe3o foi selecionada",value:n.shortness_breath||null},options:[{id:"shortness_breath",value:"1",label:"Ausente"},{id:"shortness_breath",value:"2",label:"Presente ao esfor\xe7o"},{id:"shortness_breath",value:"3",label:"Intensa no repouso"}],onChange:t,placeholder:"Ver op\xe7\xf5es"}),l.a.createElement("div",{className:"invalid-feedback"},"Seleciona alguma op\xe7\xe3o.")))))},Da=function(e){var t=e.onChangeOptionFamily,a=e.onCreateBoxFamily,n=e.familyPatient,r=e.removeBoxFamily,o=e.isCreateFamily,s=e.onChangeBoxFamily,c=e.isFamily,u=e.isEdit;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Paciente cont\xe9m conviv\xeancia com familiares ou pessoas comuns?"),l.a.createElement(ce.a,{isDisabled:c,options:[{id:"family_create",value:"Sim",label:"Sim"},{id:"family_create",value:"N\xe3o",label:"N\xe3o"}],placeholder:"Ver op\xe7\xf5es",onChange:t})),o&&l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mt-3 mb-3"},l.a.createElement("center",null,l.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:a},l.a.createElement(b.a,{icon:"plus"}),"\xa0Adicionar mais membros de conv\xedvio")))),o&&l.a.createElement("div",{style:{height:600,overflowY:"auto",boxShadow:"inset 0 0 8px #b4b4b4",padding:20}},l.a.createElement(k,null,n.length>0&&n.map((function(e,t){return l.a.createElement(i.Fragment,{key:t},l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement(O,{styleBox:{border:"1px solid #dedede",borderRadius:7},styleHeader:{borderTop:"3px solid #00b88a",borderTopLeftRadius:7,borderTopRightRadius:7},titleHeader:l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-11 col-md-11 col-lg-11 col-xs-11"},l.a.createElement("label",null,l.a.createElement("strong",null,"Pessoa ",t+1,":"))),l.a.createElement("div",{className:"col-sm-1 col-md-1 col-lg-1 col-xs-1"},l.a.createElement("span",{style:{color:"gray",cursor:"pointer"},onClick:function(e){return r(e,t)}},l.a.createElement(b.a,{icon:"times-circle"}))))},l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Nome completo:"),l.a.createElement("input",{type:"text",name:"name",className:"form-control",value:e.name,placeholder:"Nome",onChange:function(e){return s(e,t)}})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Estado:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},value:u?{label:("Assintom\xe1tico"==e.symptomatic?"Assintom\xe1tico":"Sintom\xe1tico"==e.symptomatic&&"Sintom\xe1tico")||"Nennuma op\xe7\xe3o selecionada",value:("Assintom\xe1tico"==e.symptomatic?"Assintom\xe1tico":"Sintom\xe1tico"==e.symptomatic&&"Sintom\xe1tico")||"Nennuma op\xe7\xe3o selecionada"}:{label:u||e.symptomatic?e.symptomatic:"Nenhuma op\xe7\xe3o selecionada",value:u||e.symptomatic?e.symptomatic:null},options:[{id:"symptomatic",value:"Sintom\xe1tico",label:"Sintom\xe1tico"},{id:"symptomatic",value:"Assintom\xe1tico",label:"Assintom\xe1tico"}],placeholder:"Ver op\xe7\xf5es",onChange:function(e){return s(e,t)}})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Exame:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},value:{label:("Positivo"==e.exam_result?"Positivo":"Negativo"==e.exam_result&&"Negativo")||"Aguardando Resultado"==e.exam_result&&"Aguardando Resultado"||"Nenhuma op\xe7\xe3o selecionada",value:("Negativo"==e.exam_result?"Negativo":"Positivo"==e.exam_result&&"Positivo")||"Aguardando Resultado"==e.exam_result&&"Aguardando Resultado"||"Nenhuma op\xe7\xe3o selecionada"},options:[{id:"exam_result",value:"Positivo",label:"Positivo"},{id:"exam_result",value:"Negativo",label:"Negativo"},{id:"exam_result",value:"Aguardando Resultado",label:"Aguardando Resultado"}],placeholder:"Ver op\xe7\xf5es",onChange:function(e){return s(e,t)}})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Tipo de membro:"),l.a.createElement(ce.a,{menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{zIndex:5e3})}},value:{label:e.kinship||"Nenhuma op\xe7\xe3o selecionada",value:e.kinship||null},options:[{id:"kinship",value:"Marido",label:"Marido"},{id:"kinship",value:"Esposa",label:"Eposa"},{id:"kinship",value:"Pai",label:"Pai"},{id:"kinship",value:"M\xe3e",label:"M\xe3e"},{id:"kinship",value:"Irm\xe3o(a)",label:"Irm\xe3o(a)"},{id:"kinship",value:"Av\xf4(a)",label:"Av\xf4(a)"},{id:"kinship",value:"Amigo(a)",label:"Amigo(a)"},{id:"kinship",value:"Colega de trabalho",label:"Colega de trabalho"},{id:"kinship",value:"Outro",label:"Outro"}],placeholder:"Ver op\xe7\xf5es",onChange:function(e){return s(e,t)}})))))})))))},Ta={name:"",cns:"",birth:"",address:"",city:"",health_plan:"",telephone:"",description:"",in_isolation:"",first_evaluation:"",early_symptoms:"",exam_collection:"",exam_type:"",exam_result:"",exam_result_date:"",comorbidities:"",orientation:"",appetite:"",signals:"",fever:"",cough:"",shortness_breath:"",family:[]},Fa=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={infoPatient:Object(Ie.a)({},Ta),isClassErrorsValues:{name:"",cns:"",birth:"",address:"",health_plan:"",telephone:"",in_isolation:"",exam_collection:"",exam_type:"",exam_result:"",fever:"",shortness_breath:"",appetite:"",signals:"",orientation:"",cough:""},isTotalTabs:!1,cnsInvalid:!1,idCurrent:null,isEditPatient:!1,isCreateFamily:!1,selectedTabIndex:0,isLoadEdit:!1},n._swal=new de,n}return Object(u.a)(a,[{key:"_handle",value:function(e,t,a){this.setState((function(a){return{infoPatient:Object(Ie.a)(Object(Ie.a)({},a.infoPatient),{},Object(At.a)({},e,t))}}),a)}},{key:"_handleError",value:function(e,t){this.setState((function(t){return{isClassErrorsValues:Object(Ie.a)(Object(Ie.a)({},t.isClassErrorsValues),{},Object(At.a)({},e,"is-invalid"))}}),t)}},{key:"_handleClearError",value:function(e,t){this.setState((function(t){return{isClassErrorsValues:Object(Ie.a)(Object(Ie.a)({},t.isClassErrorsValues),{},Object(At.a)({},e,""))}}),t)}},{key:"_handleClearAllErrors",value:function(e){this.setState({isClassErrorsValues:{name:"",cns:"",birth:"",address:"",health_plan:"",telephone:"",in_isolation:"",exam_collection:"",exam_type:"",exam_result:"",fever:"",shortness_breath:"",appetite:"",signals:"",orientation:"",cough:""}},e)}},{key:"tratativeError",value:function(e,t){var a=this;switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError();break;case 409:this._swal.error("CNS j\xe1 cadastrado!",(function(){a.setState({cnsInvalid:!0}),a.backTabRegisterPatient(0),a._handleError("cns")}))}return t}},{key:"formatterDate",value:function(e){return ya.formatCustom(new Date(e),"YYYY-MM-DD")}},{key:"onChangeMultiOptionsRegister",value:function(e){var t=this;e&&e.map((function(e){var a="comorbidities"===e.id?t.state.infoPatient.comorbidities:t.state.infoPatient.signals;-1===a.indexOf(e.value)&&(t._handleClearError(e.id),t._handle(e.id,a?"".concat(a,";").concat(e.value):e.value))}))}},{key:"onChangeOptions",value:function(e){this._handleClearError(e.id),this._handle(e.id,e.value)}},{key:"onChangeInput",value:function(e){e.value?(this._handleClearError(e.id),this._handle(e.id,e.value)):(this._handle(e.target.id,"cns"===e.target.id||"telephone"===e.target.id&&e.target.value.length>15?e.target.value.substring(0,15).replace(/([^\d])+/gim,""):e.target.value),this._handleClearError(e.target.id))}},{key:"onActiveFamily",value:function(e){var t=this;e&&"N\xe3o"!==e.value||this._handle("family",[],(function(){return t.setState({isCreateFamily:!1})})),e&&"Sim"===e.value&&this._handle("family",[{name:"",symptomatic:"",exam_result:"",kinship:""}],(function(){return t.setState({isCreateFamily:!0})}))}},{key:"onChangeBoxFamily",value:function(e,t){e.value?(this.state.infoPatient.family[t][e.id]=e.value,this._handle("family",this.state.infoPatient.family)):(this.state.infoPatient.family[t][e.target.name]=e.target.value,this._handle("family",this.state.infoPatient.family))}},{key:"onCreateBoxFamily",value:function(){this._handle("family",[].concat(Object(n.a)(this.state.infoPatient.family),[{name:"",symptomatic:"",exam_result:"",kinship:""}]))}},{key:"removeBoxFamily",value:function(e,t){var a=this;this.state.infoPatient.family.length>0&&(this.state.infoPatient.family.splice(t,1),this._handle("family",this.state.infoPatient.family,(function(){a.state.infoPatient.family.length<=0&&(a._handle("family",[]),a.setState({isCreateFamily:!1}))})))}},{key:"backTabRegisterPatient",value:function(e){this.setState({selectedTabIndex:e})}},{key:"nextTabEditPatient",value:function(e){var t=this,a=e-1,n=this.state.infoPatient,i=n.name,l=n.cns,r=n.birth,o=n.address,s=n.health_plan,c=n.telephone,u=(n.in_isolation,function(){console.log(e),t.setState({selectedTabIndex:e})});switch(a){case 0:if(i&&l&&r&&o&&s&&c)return u();!i&&this._handleError("name"),!l&&this._handleError("cns"),!r&&this._handleError("birth"),!o&&this._handleError("address"),!s&&this._handleError("health_plan"),!c&&this._handleError("telephone");break;case 1:case 2:u()}}},{key:"nextTabRegisterPatient",value:function(e){var t=this,a=e-1,n=this.state.infoPatient,i=n.name,l=n.cns,r=n.birth,o=n.address,s=n.health_plan,c=n.telephone,u=n.in_isolation,m=n.exam_type,d=n.exam_collection,h=n.exam_result,f=n.fever,p=n.shortness_breath,b=n.appetite,E=n.signals,v=n.orientation,g=n.cough,_=function(){t.setState({selectedTabIndex:e})};switch(a){case 0:if(i&&l&&r&&o&&s&&c)return _();!i&&this._handleError("name"),!l&&this._handleError("cns"),!r&&this._handleError("birth"),!o&&this._handleError("address"),!s&&this._handleError("health_plan"),!c&&this._handleError("telephone");break;case 1:if(u&&m&&d&&h)return _();!u&&this._handleError("in_isolation"),!m&&this._handleError("exam_type"),!d&&this._handleError("exam_collection"),!h&&this._handleError("exam_result");break;case 2:f&&p&&b&&E&&v&&g&&(_(),this.setState({isTotalTabs:!0})),!f&&this._handleError("fever"),!p&&this._handleError("shortness_breath"),!b&&this._handleError("appetite"),!E&&this._handleError("signals"),!v&&this._handleError("orientation"),!g&&this._handleError("cough")}}},{key:"_editPatient",value:function(e,t){var a=this;e.in_isolation="Sim"==e.in_isolation?1:0,e.family.map((function(e){console.log(e.symptomatic),e.symptomatic="Assintom\xe1tico"==e.symptomatic?0:1})),e.family=JSON.stringify(e.family),console.log(this.state.infoPatient),xa.editPatient(e,t).then((function(){a._swal.success("Paciente editado.",(function(){C()("#control_patient").modal("hide"),a.props.refresh()}))})).catch((function(e){return a.tratativeError(e)}))}},{key:"_registerPatient",value:function(e){var t=this;console.log(e.in_isolation),e.in_isolation="Sim"==e.in_isolation?1:0,e.family=JSON.stringify(e.family),xa.insertPatient(e).then((function(e){t._swal.success("Paciente cadastrado.",(function(){t._swal.fullinfo("".concat(e.conduct,"."),"N\xe3o"===e.group_risk?"Paciente n\xe3o se encaixa no grupo de risco.":"Paciente se encaixa dentro do grupo de risco!",(function(){C()("#control_patient").modal("hide"),t.props.refresh(),t.setState({selectedTabIndex:0,infoPatient:Ta,isCreateFamily:!1,cnsInvalid:!1},(function(){return t.props.refresh}))}))}))})).catch((function(e){400===e?t._swal.warning("Preencha data(s) do cadastro do paciente corretamente!",(function(){t.setState({selectedTabIndex:0,isTotalTabs:!0})})):t.tratativeError(e)}))}},{key:"_submitPatient",value:function(e){var t=this,a=Object(Ie.a)({},this.state.infoPatient);if(this.state.isCreateFamily){var i,l,r,o,s=Object(n.a)(this.state.infoPatient.family);console.log(s),s.length>0&&s.map((function(e){!e.name&&t._swal.warning("Preencha o nome do familiar!"),!e.symptomatic&&t._swal.warning("Selecione o estado do familiar!"),!e.exam_result&&t._swal.warning("Selecione o resultado de exame do familiar!"),!e.kinship&&t._swal.warning("Selecione tipo de familiar do paciente!"),!e.name&&!e.symptomatic&&!e.exam_result&&!e.kinshiperFamily&&t._swal.warning("Preencha todos os campos do(s) familiar(es) adicionado(s)!"),i=e.name,l=e.symptomatic,r=e.exam_result,o=e.kinship})),console.log(l),i&&l&&r&&o&&e(a)}else e(a)}},{key:"_getUniquePatientEdit",value:function(e){var t=this;return this.setState({isEditPatient:!0}),new Promise((function(a,n){xa.getUniquePatient(e).then((function(n){n.in_isolation=n.in_isolation?"Sim":"N\xe3o",t.setState({infoPatient:n,idCurrent:e}),a(e)})).catch((function(e){return n(e)}))}))}},{key:"_getFamilyPatientEdit",value:function(e){var t=this;return new Promise((function(a,n){xa.getFamilyPatient(e).then((function(e){e.map((function(e){e.symptomatic=e.symptomatic?"Sintom\xe1tico":"Assintom\xe1tico"})),t._handle("family",e),a()})).catch((function(e){404===e?(t.state.infoPatient.family=[],a()):t.tratativeError(e)}))}))}},{key:"componentDidMount",value:function(){var e=this;C()("#control_patient").on("show.bs.modal",(function(){console.log(e.props.isEditPatient),e.setState({isEditPatient:e.props.isEditPatient},(function(){e.state.isEditPatient?(e.setState({isLoadEdit:!0}),e._getUniquePatientEdit(e.props.currentIdPatient).then((function(t){e._getFamilyPatientEdit(t).then((function(){e._handle("birth",e.formatterDate(e.state.infoPatient.birth)),e._handle("early_symptoms",e.formatterDate(e.state.infoPatient.early_symptoms)),e._handle("exam_collection",e.formatterDate(e.state.infoPatient.exam_collection)),e._handle("exam_result_date",e.formatterDate(e.state.infoPatient.exam_result_date)),e.setState(e.state.infoPatient.family.length>0?{isCreateFamily:!0}:{isCreateFamily:!1}),e._handleClearAllErrors(),e.setState({isLoadEdit:!1})}))})).catch((function(t){return e.tratativeError(t)}))):e.setState({isLoadEdit:!1})}))})).on("hidden.bs.modal",(function(){e.setState({infoPatient:Object(Ie.a)({},Ta),selectedTabIndex:0,isEditPatient:!1,isCreateFamily:!1,isTotalTabs:!1},(function(){e.props.resetIsEditPatient(),e._handleClearAllErrors()}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedTabIndex,n=t.isEditPatient,r=t.isTotalTabs;return l.a.createElement("div",{className:"modal fade",id:"control_patient","data-backdrop":"static",tabIndex:"-1","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document",style:{width:"80%",maxWidth:"100%"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},this.state.isEditPatient?"Editar paciente":"Cadastrar paciente"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},this.state.isLoadEdit?l.a.createElement("center",null,l.a.createElement(T,{size:15})):l.a.createElement(ka.d,{selectedIndex:a,onSelect:function(t){return n?0===t?e.backTabRegisterPatient(t):e.nextTabEditPatient(t):0===t?e.backTabRegisterPatient(t):e.nextTabRegisterPatient(t)}},l.a.createElement(ka.b,null,l.a.createElement(k,null,r||n?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.Fragment,null,l.a.createElement(ka.a,{target:0},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{text:"Dados b\xe1sicos"})))),l.a.createElement(ka.a,{target:1},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{text:"Diagn\xf3stico"})))),l.a.createElement(ka.a,{target:2},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{text:"Sintomas"})))),l.a.createElement(ka.a,{target:3},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{text:"Familiares/Conviv\xeancia"})))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(ka.a,{target:0},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,0===a&&l.a.createElement(Pa,{text:"Dados b\xe1sicos"})))),l.a.createElement(ka.a,{target:1},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,1===a&&l.a.createElement(Pa,{text:"Diagn\xf3stico"})))),l.a.createElement(ka.a,{target:2},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,2===a&&l.a.createElement(Pa,{text:"Sintomas"})))),l.a.createElement(ka.a,{target:3},l.a.createElement(i.Fragment,null,l.a.createElement(l.a.Fragment,null,3===a&&l.a.createElement(Pa,{text:"Familiares/Conviv\xeancia"}))))))),l.a.createElement(ka.c,{tabIndex:0},l.a.createElement(Oa,{infoPatient:this.state.infoPatient,onChangeFormValue:this.onChangeInput.bind(this),onChangeFormValueOption:this.onChangeOptions.bind(this),isClassErrorsValues:this.state.isClassErrorsValues})),l.a.createElement(ka.c,{tabIndex:1},l.a.createElement(Sa,{infoPatient:this.state.infoPatient,onChangeFormValue:this.onChangeInput.bind(this),onChangeFormValueOption:this.onChangeOptions.bind(this),isClassErrorsValues:this.state.isClassErrorsValues,isEdit:this.state.isEditPatient})),l.a.createElement(ka.c,{tabIndex:2},l.a.createElement(ja,{infoPatient:this.state.infoPatient,onChangeFormValueOption:this.onChangeOptions.bind(this),onChangeMultiOptionsRegister:this.onChangeMultiOptionsRegister.bind(this),isClassErrorsValues:this.state.isClassErrorsValues,isEdit:this.state.isEditPatient})),l.a.createElement(ka.c,{tabIndex:3},l.a.createElement(Da,{familyPatient:this.state.infoPatient.family,onCreateBoxFamily:this.onCreateBoxFamily.bind(this),onChangeOptionFamily:this.onActiveFamily.bind(this),removeBoxFamily:this.removeBoxFamily.bind(this),isCreateFamily:this.state.isCreateFamily,onChangeBoxFamily:function(t,a){return e.onChangeBoxFamily(t,a)},isClassErrorsValues:this.state.isClassErrorsValues,isFamily:this.state.isCreateFamily})))),l.a.createElement("div",{className:"modal-footer"},a<=2?l.a.createElement(l.a.Fragment,null,a>0&&l.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return e.backTabRegisterPatient(a-1)}},l.a.createElement(b.a,{icon:"angle-double-left"}),"\xa0Voltar"),l.a.createElement("button",{type:"button",className:"btn",style:{backgroundColor:"#00b88a",color:"white"},onClick:function(){return e.state.isEditPatient?e.nextTabEditPatient(a+1):e.nextTabRegisterPatient(a+1)}},l.a.createElement(b.a,{icon:"angle-double-right"}),"\xa0Pr\xf3ximo"),n&&a<=2?l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e._submitPatient((function(t){return e._editPatient(t,e.state.idCurrent)}))}},l.a.createElement(b.a,{icon:"cloud-upload-alt"}),"\xa0Salvar paciente"):r&&a<=2&&l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e._submitPatient((function(t){return e._registerPatient(t)}))}},l.a.createElement(b.a,{icon:"cloud-upload-alt"}),"\xa0Cadastrar paciente")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return e.backTabRegisterPatient(a-1)}},l.a.createElement(b.a,{icon:"angle-double-left"}),"\xa0Voltar"),this.state.isEditPatient?l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e._submitPatient((function(t){return e._editPatient(t,e.state.idCurrent)}))}},l.a.createElement(b.a,{icon:"cloud-upload-alt"}),"\xa0Salvar paciente"):l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e._submitPatient((function(t){return e._registerPatient(t)}))}},l.a.createElement(b.a,{icon:"cloud-upload-alt"}),"\xa0Cadastrar paciente"))))))}}]),a}(l.a.PureComponent),Aa=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={filter:"",list:[],isList:!1,seeFamilyPatient:[],seeCallsPatient:[],counter:{group_risk:0,in_isolation:0,total:0,waiting_exam_result:0},isModalDelete:{visible:!1,idPatient:null},isModalDeath:{visible:!1,idPatient:null},isModalDefineExam:{idPatient:null,namePatient:null},isEditPatient:!1,isLoadSeeFamily:!1,isLoadSeeCalls:!1,isCurrentPatient:null},n._swal=new de,n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_filterKey",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"tratativeError",value:function(e,t){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError();break;case 400:ra.clientError()}return t}},{key:"_deletePatient",value:function(e){var t=this;xa.deletePatient(e).then((function(){t.setState({isModalDelete:{visible:!1,idPatient:null}}),t._swal.success("Paciente deletado!"),t._refreshData()})).catch((function(e){return 404===e?t.setState({list:[]}):t.tratativeError(e)}))}},{key:"_setExamPatient",value:function(e,t){var a=this,n={exam_result:t};xa.setExamResultPatient(e,n).then((function(){a.setState({isModalDefineExam:{idPatient:null,namePatient:null}}),a._swal.success("Exame do paciente definido!",(function(){a._refreshData(),C()("#modal_define_exam").modal("hide")}))})).catch((function(e){return a.tratativeError(e)}))}},{key:"_setDeathPatient",value:function(e){var t=this;xa.setDeathPatient(e).then((function(){t.setState({isModalDeath:{visible:!1,idPatient:null}}),t._swal.success("Defini\xe7\xe3o de \xf3bito feita!",(function(){t._refreshData()}))})).catch((function(e){return t.tratativeError(e)}))}},{key:"_getCallsPatient",value:function(e){var t=this;this.setState({isLoadSeeCalls:!0}),xa.getCallsPatient(e).then((function(e){t.setState({seeCallsPatient:e})})).catch((function(e){t.tratativeError(e)})).finally((function(){return t.setState({isLoadSeeCalls:!1})}))}},{key:"_getFamiliyPatient",value:function(e){var t=this;this.setState({isLoadSeeFamily:!0}),xa.getFamilyPatient(e).then((function(e){t.setState({seeFamilyPatient:e})})).catch((function(e){t.tratativeError(e)})).finally((function(){return t.setState({isLoadSeeFamily:!1})}))}},{key:"_getDataCounterPatient",value:function(){var e=this;xa.getDataCounterPatients().then((function(t){e.setState({counter:t})})).catch((function(t){return 404===t?e.setState({list:[]}):e.tratativeError(t)}))}},{key:"_getDataPatients",value:function(){var e=this;this.setState({isList:!0}),xa.getPatients().then((function(t){return e.setState({list:t})})).catch((function(t){return 404===t?e.setState({list:[]}):e.tratativeError(t)})).finally((function(){return e.setState({isList:!1})}))}},{key:"resetIsEditPatient",value:function(){this.setState({isEditPatient:!1})}},{key:"_refreshData",value:function(){this._getDataPatients(),this._getDataCounterPatient()}},{key:"componentDidMount",value:function(){var e=this;this._refreshData(),C()("#see_family").on("hidden.bs.modal",(function(){return e.setState({seeFamilyPatient:[]})})),C()("#see_calls").on("hidden.bs.modal",(function(){return e.setState({seeCallsPatient:[]})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{titleComponent:"Pacientes",icon:"procedures"}),l.a.createElement(I,null,l.a.createElement(Fa,{refresh:function(){return e._refreshData()},isEditPatient:this.state.isEditPatient,currentIdPatient:this.state.isCurrentPatient,resetIsEditPatient:this.resetIsEditPatient.bind(this)}),l.a.createElement(wa,{familyPatient:this.state.seeFamilyPatient,isLoadSeeFamily:this.state.isLoadSeeFamily}),l.a.createElement(Ca,{callsPatient:this.state.seeCallsPatient,isLoadSeeCalls:this.state.isLoadSeeCalls}),l.a.createElement(L,{subtitle:"Aten\xe7\xe3o",title:"Deletar paciente",oneButtonTitle:"Deletar",twoButtonTitle:"Cancelar",oneButtonIcon:"trash-alt",typeAnimation:"fadeInRight",visible:this.state.isModalDelete.visible,oneButtonOnclick:function(){return e._deletePatient(e.state.isModalDelete.idPatient)},onClickAway:function(){return e.setState({isModalDelete:{visible:!1,idPatient:null}})},desc:"Ao confirmar esta a\xe7\xe3o, o paciente e todos seus dados ser\xe3o excluso do sistema sem chances de recupera\xe7\xe3o, deseja realmente continuar?"}),l.a.createElement(L,{subtitle:"Aten\xe7\xe3o",title:"Definir \xf3bito do paciente",oneButtonTitle:"Confirmar",twoButtonTitle:"Cancelar",oneButtonIcon:"check",typeAnimation:"fadeInRight",visible:this.state.isModalDeath.visible,oneButtonOnclick:function(){return e._setDeathPatient(e.state.isModalDeath.idPatient)},onClickAway:function(){return e.setState({isModalDeath:{visible:!1,idPatient:null}})},desc:"Ao confirmar esta a\xe7\xe3o, voc\xea estar\xe1 definindo o paciente a \xf3bito, deseja realmente continuar?"}),l.a.createElement(Na,{idPatient:this.state.isModalDefineExam.idPatient,namePatient:this.state.isModalDefineExam.namePatient,onSubmitExamPatient:function(t,a){return e._setExamPatient(t,a)}}),l.a.createElement(O,{titleHeader:"Gerenciamento de pacientes em monitoramento",styleBox:{borderTopLeftRadius:7,borderTopRightRadius:7}},l.a.createElement("div",{className:"informations__data__table"},l.a.createElement(J,{icon:"procedures",title:"total",count:this.state.counter.total}),l.a.createElement(J,{icon:"user-clock",title:"aguardando resultado",count:this.state.counter.waiting_exam_result}),l.a.createElement(J,{icon:"house-user",title:"em isolamento",count:this.state.counter.in_isolation}),l.a.createElement(J,{icon:"lungs-virus",title:"em grupo de risco",count:this.state.counter.group_risk})),l.a.createElement(k,null,l.a.createElement(Q,{placeholderSearch:"Pesquisar",onFilter:this._filterKey.bind(this),onClickNewButton:function(){return C()("#control_patient").modal("show")}})),l.a.createElement("div",{className:"container__table"},l.a.createElement(ga,{isData:this.state.isList,logged:this._storage.user,isGetFamilyPatient:function(t){return e._getFamiliyPatient(t)},isGetCallsPatient:function(t){return e._getCallsPatient(t)},data:ua(this.state.list,this.state.filter,"name")||[],isModalSetDeath:function(t){return e.setState({isModalDeath:t})},isModalSetDelete:function(t){return e.setState({isModalDelete:t})},isModalDefineExam:function(t){return e.setState({isModalDefineExam:t})},isGetPatientEdit:function(t){return e.setState({isCurrentPatient:t,isEditPatient:!0},(function(){return C()("#control_patient").modal("show")}))}})))))}}]),a}(l.a.PureComponent),La=Object(h.g)(Aa),Ua=function(e){var t=e.data,a=e.isData,n=e.onRegister,r=e.onView,o=e.logged,s=Object(i.useState)(window.innerWidth),c=Object(aa.a)(s,2),u=c[0],m=c[1];Object(i.useEffect)((function(){var e=function(){return m(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var d=u<=1366,h=u<=640,f=[{dataField:"id",text:"ID",sort:!0,hidden:!0},{dataField:"name",text:"Nome",sort:!0},{dataField:"address",text:"Endere\xe7o",sort:!0,hidden:u<=930||d},{dataField:"city",text:"Cidade",sort:!0,hidden:d},{dataField:"telephone",text:"Telefone",sort:!0},{dataField:"description",text:"Observa\xe7\xf5es",sort:!0,hidden:u<=1352,headerStyle:function(e,t){return{width:"200px",textAlign:"center"}}},{headerAlign:"center",text:"Data",sort:!0,align:"center",dataField:"date",formatter:function(e,t){return l.a.createElement(l.a.Fragment,null,Ut()(t.date).format("DD/MM/YYYY hh:mm"))},hidden:h},{sort:!0,text:"Finalizado",align:"center",headerAlign:"center",dataField:"completed_in",formatter:function(e,t){return l.a.createElement(l.a.Fragment,null,null===t.completed_in?" - ":Ut()(t.completed_in).format("DD/MM/YYYY hh:mm"))},hidden:h},{sort:!0,text:"Status",align:"center",dataField:"status",headerAlign:"center",formatter:function(e,t){return l.a.createElement(b.a,{icon:"pendent"===t.status?"times":"check",color:"pendent"===t.status?"red":"#1da584"})}},{dataField:"",text:"A\xe7\xf5es",align:"center",headerAlign:"center",formatter:function(e,t){return l.a.createElement(l.a.Fragment,null,"completed"===t.status?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{"data-for":"call","data-tip":"Dados da liga\xe7\xe3o",className:"btn btn-sm btn-primary",onClick:function(){return r(t)}},l.a.createElement(b.a,{icon:"file-alt",color:"white"})),l.a.createElement(na.a,{id:"call",place:"top",type:"dark",effect:"solid"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{"data-for":"register","data-tip":"Registrar liga\xe7\xe3o",className:"btn btn-sm btn-success",disabled:"municipal"===o.type,onClick:function(){return n(t)}},l.a.createElement(b.a,{size:"xs",icon:"phone-alt",color:"white"})),l.a.createElement(na.a,{id:"register",place:"top",type:"dark",effect:"solid"})))},hidden:h}];return l.a.createElement(X,{data:t,isData:a,columns:f,keyField:"id_phone_call"})},Ma=(a(199),a(200),function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"custom",value:function(e){me()({title:"Criar novo paciente",text:"Confirmando esta a\xe7\xe3o voc\xea ira salvar os registros feitos at\xe9 agora e ser\xe1 encaminhado para o cadastro de um novo paciente",icon:"warning",buttons:{cancel:"Cancelar",catch:{text:"Confirmar",value:!0,className:"color__cancel"}},cancelButtonColor:"gray",dangerMode:!0}).then((function(t){return e(t)}))}}]),e}()),Ia=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getPhoneCalls",value:function(){return new Promise((function(e,t){(new kt).run(new tt).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"getPhoneCallsFilter",value:function(e){return new Promise((function(t,a){(new kt).run(new Je(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}},{key:"getPhoneCallsData",value:function(e){return new Promise((function(t,a){(new kt).run(new et(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}},{key:"getFamilyPhoneCalls",value:function(e){return new Promise((function(t,a){(new kt).run(new st(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}},{key:"getPhoneCallsCounter",value:function(){return new Promise((function(e,t){(new kt).run(new ut).then((function(t){return e(t.data)})).catch((function(e){return t(e)}))}))}},{key:"setPhoneCallsCompleted",value:function(e,t,a){return new Promise((function(n,i){(new kt).run(new Et(e,t,a)).then((function(){return n()})).catch((function(e){return i(e)}))}))}}]),e}(),Ra=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:"",family:"",isSaving:!1,isLoading:!1,description:null},n._alert=new de,n._alertDual=new Ma,n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"data",value:function(){var e=this,t=this.props.patient;Ia.getPhoneCallsData(t.id_phone_call).then((function(t){var a=t.description;return e.setState({description:a})})).catch((function(t){e._errStatusCode(t),e.setState({description:""})}))}},{key:"register",value:function(){var e=this;if(this.state.description){var t=this.props.patient;this.setState({isSaving:!0}),Ia.setPhoneCallsCompleted(t.id_phone_call,this.state.description,t.id).then((function(){e._alert.success("Liga\xe7\xe3o Registrada!",(function(){e.props.refresh(),C()("#registerCall").modal("hide")}))})).catch((function(t){return e._errStatusCode(t)})).finally((function(){return e.setState({isSaving:!1})}))}else this.setState({description:""})}},{key:"getFamily",value:function(e){var t=this;this.setState({isLoading:!0}),Ia.getFamilyPhoneCalls(e).then((function(e){return t.setState({family:e})})).catch((function(e){t._errStatusCode(e),t.setState({error:"Paciente n\xe3o possui familiares"})})).finally((function(){return t.setState({isLoading:!1})}))}},{key:"componentDidMount",value:function(){var e=this;C()("#registerCall").on("hidden.bs.modal",(function(){e.setState({description:null,family:"",error:""})})).on("shown.bs.modal",(function(){var t=e.props.patient;e.getFamily(t.id),e.props.editModal&&e.data()}))}},{key:"addPatientFamily",value:function(){var e=this;this._alertDual.custom((function(t){if(t){if(!e.state.description)return void e.setState({description:""});var a=e.props.patient;e.setState({isSaving:!0}),Ia.setPhoneCallsCompleted(a.id_phone_call,e.state.description,a.id).then((function(){C()("#registerCall").modal("hide"),e.props.history.push("/patients")})).catch((function(t){return e._errStatusCode(t)}))}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.patient,n=t.editModal,i=this.state,r=i.description,o=i.isSaving,s=i.family,c=i.isLoading,u=i.error;return l.a.createElement("div",{className:"modal fade",id:"registerCall",tabIndex:"-1",role:"dialog","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white",flexDirection:"column"}},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},n?"Registro de ":"Registrar liga\xe7\xe3o de ",l.a.createElement("strong",null,a.name)),l.a.createElement("div",{className:"header__modal"},l.a.createElement(l.a.Fragment,null,c&&!n?l.a.createElement(T,{size:8,color:"white"}):""!==u||n?l.a.createElement("div",null," ",l.a.createElement("h3",{className:"text__name__family",style:{color:"white",fontSize:"12px"}}," ",u," ")," "):s&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"family__title"}," Familiares "),s.map((function(t,a){return l.a.createElement("button",{key:a,className:"label__family",onClick:function(){return e.addPatientFamily(t)}},l.a.createElement("h3",{className:"text__name__family"}," ",t.kinship,": ",t.name," "))})))),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3"},l.a.createElement("label",null,"Descri\xe7\xe3o da liga\xe7\xe3o"),l.a.createElement("textarea",{rows:20,type:"text",value:null!==r&&void 0!==r?r:"",placeholder:"Descri\xe7\xe3o da liga\xe7\xe3o",className:"form-control ".concat(""===r&&"is-invalid"),onChange:function(t){return e.setState({description:t.target.value})}}),l.a.createElement("div",{className:"invalid-feedback"},"Digite a descri\xe7\xe3o da liga\xe7\xe3o."))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancelar"),!n&&l.a.createElement("button",{type:"button",className:"btn btn-dark",disabled:!r,onClick:function(){return e.register()}},o?l.a.createElement(T,{size:8,color:"white"}):"Salvar")))))}}]),a}(l.a.PureComponent),Ha=Object(h.g)(Ra),za=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={filter:"",data:[],patient:"",isData:!1,disableEdit:!1,counter:{now:0,total:0,family:[],pendent:0,completed:0},filterPhoneCalls:"all"},n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"_filterKey",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"_setFilter",value:function(e){var t=this;this.setState({filterPhoneCalls:e},(function(){return t._getPhoneCalls()}))}},{key:"_getCounter",value:function(){var e=this;Ia.getPhoneCallsCounter().then((function(t){return e.setState({counter:t})})).catch((function(t){e._errStatusCode(t),e.setState({counter:{completed:0,now:0,pendent:0,total:0}})}))}},{key:"_getPhoneCalls",value:function(){var e=this;this._getCounter(),this.setState({isData:!0}),"all"===this.state.filterPhoneCalls?Ia.getPhoneCalls().then((function(t){return e.setState({data:t})})).catch((function(t){e._errStatusCode(t),e.setState({data:[]})})).finally((function(){return e.setState({isData:!1})})):Ia.getPhoneCallsFilter(this.state.filterPhoneCalls).then((function(t){return e.setState({data:t})})).catch((function(t){e._errStatusCode(t),e.setState({data:[]})})).finally((function(){return e.setState({isData:!1})}))}},{key:"componentDidMount",value:function(){this._getPhoneCalls()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.filter,i=t.isData,r=t.disableEdit;return l.a.createElement("div",{id:"phonecalls"},l.a.createElement(U,{titleComponent:"Liga\xe7\xf5es",icon:"phone-alt"}),l.a.createElement(I,null,l.a.createElement(O,{titleHeader:"Gerenciamento de liga\xe7\xf5es.",styleBox:{borderTopLeftRadius:7,borderTopRightRadius:7}},l.a.createElement(Ha,{editModal:r,patient:this.state.patient,refresh:this._getPhoneCalls.bind(this)}),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},l.a.createElement(J,{title:"Total",icon:"users",count:this.state.counter.total,onClick:function(){return e._setFilter("all")},selected:"all"===this.state.filterPhoneCalls}),l.a.createElement(J,{title:"Hoje",icon:"user-tag",count:this.state.counter.now,onClick:function(){return e._setFilter("now")},selected:"now"===this.state.filterPhoneCalls}),l.a.createElement(J,{title:"Pendentes",icon:"user-clock",count:this.state.counter.pendent,onClick:function(){return e._setFilter("pendent")},selected:"pendent"===this.state.filterPhoneCalls}),l.a.createElement(J,{title:"Conclu\xeddas",icon:"user-check",count:this.state.counter.completed,onClick:function(){return e._setFilter("completed")},selected:"completed"===this.state.filterPhoneCalls})),l.a.createElement(k,null,l.a.createElement("div",{style:{margin:0,width:"100%",padding:0},className:"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-2 mt-2 "},l.a.createElement("div",{className:"input-group",style:{width:"100%"}},l.a.createElement("input",{id:"filter",type:"text",className:"form-control",placeholder:"Pesquisar",onChange:this._filterKey.bind(this)}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary"},l.a.createElement(b.a,{icon:"search"})))))),l.a.createElement("div",{className:"container__table",style:{marginTop:15}},l.a.createElement(Ua,{isData:i,logged:this._storage.user,data:ua(a,n,"name")||[],onView:function(t){return e.setState({patient:t,disableEdit:!0},(function(){return C()("#registerCall").modal("show")}))},onRegister:function(t){return e.setState({patient:t,disableEdit:!1},(function(){return C()("#registerCall").modal("show")}))}})))))}}]),a}(l.a.PureComponent),Va=function(e){var t=e.data,a=e.onDelete,n=e.onEdit,r=e.logged,o=e.isData,s=Object(i.useState)(window.innerWidth),c=Object(aa.a)(s,2),u=c[0],m=c[1];Object(i.useEffect)((function(){var e=function(){return m(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var d=u<=640,h=[{dataField:"id",text:"ID",sort:!0,hidden:!0},{dataField:"name",text:"Nome",sort:!0},{dataField:"address",text:"Endere\xe7o",sort:!0,hidden:u<=1150},{dataField:"city",text:"Cidade",sort:!0,hidden:d},{dataField:"telephone",text:"Telefone",sort:!0,hidden:d},{dataField:"symptomatic",text:"Sintom\xe1tica",align:"center",sort:!0,formatter:function(e,t){return l.a.createElement(b.a,{icon:t.symptomatic?"check":"times",color:t.symptomatic?"#1da584":"red"})}},{dataField:"",text:"A\xe7\xf5es",align:"center",headerAlign:"center",formatter:function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{"data-for":"edit","data-tip":"Editar",onClick:function(){return n(t)},className:"btn btn-sm btn-secondary"},l.a.createElement(b.a,{size:"xs",icon:"pencil-alt",color:"white"})),l.a.createElement(na.a,{id:"edit",place:"top",type:"dark",effect:"solid"}),l.a.createElement("button",{disabled:t.id===r.id,style:{marginLeft:5},"data-for":"delete","data-tip":"Excluir",className:"btn btn-sm btn-danger",onClick:function(){return a(t)}},l.a.createElement(b.a,{icon:"times",color:"white"})),l.a.createElement(na.a,{id:"delete",place:"top",type:"dark",effect:"solid"}))},hidden:u<=930}];return l.a.createElement(X,{keyField:"id",data:t,isData:o,columns:h})},Ba={name:null,email:null,latitude:0,clear:!1,longitude:0,city:"Maril\xeda",address:null,isSaving:!1,telephone:null,symptomatic:null},Ya=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state=Object(Ie.a)({},Ba),n._optionsUnit=[{value:!0,label:"Unidade Sintom\xe1tica"},{value:!1,label:"Unidade Assintom\xe1tica"}],n._alert=new de,n}return Object(u.a)(a,[{key:"_onChange",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"_onChangeLatLong",value:function(e){var t=e.lat,a=e.long,n=e.address;this.setState({latitude:t,longitude:a,address:n})}},{key:"_validateRegister",value:function(){var e=this.state,t=e.name,a=e.email;return t||this.setState({name:""}),a||this.setState({email:""}),!(!t||!a)}},{key:"_validateEdit",value:function(){var e=this.state.name;return e||this.setState({name:""}),!!e}},{key:"data",value:function(){var e=this;St.getHealthUnitData(this.props.unitCurrent.id).then((function(t){var a=Object(Ie.a)(Object(Ie.a)({},t),{},{symptomatic:{value:t.symptomatic,label:t.symptomatic?"Unidade Sintom\xe1tica":"Unidade Assintom\xe1tica"}});e.setState(Object(Ie.a)(Object(Ie.a)({},e.state),a))})).catch((function(e){return console.error(e)}))}},{key:"edit",value:function(){var e,t=this;if(this._validateEdit()){this.setState({isSaving:!0});var a=Object(Ie.a)(Object(Ie.a)({},this.state),{},{symptomatic:Number(null===(e=this.state.symptomatic)||void 0===e?void 0:e.value)});St.editHealthUnity(this.props.unitCurrent.id,a).then((function(){t._alert.success("Unidade editada!",(function(){t.props.refresh(),C()("#modalUnits").modal("hide")}))})).finally((function(){return t.setState({isSaving:!1})}))}}},{key:"register",value:function(){var e,t=this;if(this._validateRegister()){this.setState({isSaving:!0});var a=Object(Ie.a)(Object(Ie.a)({},this.state),{},{symptomatic:null===(e=this.state.symptomatic)||void 0===e?void 0:e.value});St.addHealthUnity(a).then((function(){t._alert.success("Unidade cadastrada! Sua senha de acesso foi enviada para ".concat(t.state.email),(function(){t.props.refresh(),C()("#modalUnits").modal("hide")}))})).catch((function(e){409===e&&t._alert.warning("Email ja cadastrado!")})).finally((function(){return t.setState({isSaving:!1})}))}}},{key:"componentDidMount",value:function(){var e=this;C()("#modalUnits").on("hidden.bs.modal",(function(){e.setState(Object(Ie.a)({},Ba)),e.setState({clear:!e.state.clear})})).on("shown.bs.modal",(function(){e.props.isEdit&&e.data()}))}},{key:"render",value:function(){var e=this,t=this.props.isEdit,a=this.state,n=a.name,i=a.email,r=a.address,o=a.city,s=a.symptomatic,c=a.telephone,u=a.isSaving,m=a.clear;return l.a.createElement("div",{className:"modal fade",id:"modalUnits",tabIndex:"-1",role:"dialog","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Registrar unidade"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("fieldset",null,l.a.createElement("form",null,l.a.createElement(k,null,l.a.createElement("div",{className:t?"col-sm-12 col-md-12 col-lg-12 col-xs-12 mb-3":"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Nome"),l.a.createElement("input",{id:"name",type:"text",value:null!==n&&void 0!==n?n:"",placeholder:"Nome",onChange:this._onChange.bind(this),className:"form-control ".concat(""===n&&"is-invalid")}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o nome da unidade.")),!t&&l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"E-mail do administrador"),l.a.createElement("input",{id:"email",type:"email",value:null!==i&&void 0!==i?i:"",placeholder:"E-mail",onChange:this._onChange.bind(this),className:"form-control ".concat(""===i&&"is-invalid")}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o email."))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Telefone"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{id:"telephone",type:"text",value:null!==c&&void 0!==c?c:"",placeholder:"Telefone",className:"form-control",onChange:this._onChange.bind(this)}))),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Tipo"),l.a.createElement(ce.a,{isLoading:!1,isClearable:!0,value:null!==s&&void 0!==s?s:"",options:this._optionsUnit,placeholder:"Selecione o tipo da Unidade",onChange:function(t){return e.setState({symptomatic:t})}}))),l.a.createElement(k,null,l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-9 col-xs-9 mb-3"},l.a.createElement("label",null,"Endere\xe7o"),l.a.createElement(le,{clear:m,address:r,className:"form-control",onChange:this._onChange.bind(this),onEvent:this._onChangeLatLong.bind(this)})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xs-3 mb-3"},l.a.createElement("label",null,"Cidade"),l.a.createElement("input",{id:"city",type:"text",value:null!==o&&void 0!==o?o:"",placeholder:"Cidade",className:"form-control",onChange:this._onChange.bind(this)})))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return t?e.edit():e.register()}},u?l.a.createElement(T,{color:"white",size:12}):"Salvar")))))}}]),a}(l.a.PureComponent),Ga=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[],isData:!1,filter:"",isEdit:!1,showModal:!1,unitCurrent:null},n._alert=new de,n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}}},{key:"_filterKey",value:function(e){this.setState(Object(At.a)({},e.target.id,e.target.value))}},{key:"_getUnits",value:function(){var e=this;this.setState({isData:!0}),St.getHealthUnits().then((function(t){return e.setState({data:t})})).catch((function(t){e.setState({data:[]}),e._errStatusCode(t)})).finally((function(){return e.setState({isData:!0})}))}},{key:"_deleteUnit",value:function(){var e=this;St.deleteHealth(this.state.unitCurrent.id).then((function(){return e._alert.success("Unidade deletada!",(function(){return e._getUnits()}))})).catch((function(t){return e._errStatusCode(t)})).finally((function(){return e.setState({showModal:!1})}))}},{key:"openDeleteModal",value:function(e){this.setState({showModal:!0,unitCurrent:e})}},{key:"openRegisterModal",value:function(){this.setState({unitCurrent:null,isEdit:!1},(function(){return C()("#modalUnits").modal("show")}))}},{key:"openEditModal",value:function(e){this.setState({unitCurrent:e,isEdit:!0},(function(){return C()("#modalUnits").modal("show")}))}},{key:"componentDidMount",value:function(){if(this._storage.user.super_admin)return this._getUnits();ra.withoutPermissionVizualization(this.props.history,"/patient")}},{key:"render",value:function(){var e=this,t=this.state,a=t.isData,n=t.isEdit,i=t.unitCurrent;return l.a.createElement("div",{id:"healthunit"},l.a.createElement(U,{titleComponent:"Unidades"}),l.a.createElement(L,{subtitle:"Deletar",twoButtonTitle:"Cancelar",oneButtonTitle:"Confirmar",oneButtonIcon:"trash-alt",title:"Deletar unidade de Sa\xfade",visible:this.state.showModal,oneButtonOnclick:function(){return e._deleteUnit()},onClickAway:function(){return e.setState({showModal:!1})},desc:"Ao confirmar esta a\xe7\xe3o, a unidade de sa\xfade ser\xe1 exclusa do sistema sem chances de recupera\xe7\xe3o de dados, deseja mesmo exclui-la?"}),l.a.createElement(Ya,{isEdit:n,unitCurrent:i,refresh:this._getUnits.bind(this)}),l.a.createElement(I,null,l.a.createElement(O,{titleHeader:"Gerenciamento de unidade de sa\xfade/sintomatica.",styleBox:{borderTopLeftRadius:7,borderTopRightRadius:7}},l.a.createElement(k,null,l.a.createElement(Q,{placeholderSearch:"Pesquisar",onFilter:this._filterKey.bind(this),onClickNewButton:this.openRegisterModal.bind(this)})),l.a.createElement("div",{className:"container__table",style:{marginTop:15}},l.a.createElement(Va,{isData:a,logged:this._storage.health_current,onEdit:this.openEditModal.bind(this),onDelete:this.openDeleteModal.bind(this),data:ua(this.state.data,this.state.filter,"name")||[]})))))}}]),a}(l.a.PureComponent),qa=(a(201),function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"refreshPass",value:function(e,t,a){var n={new_password:t,old_password:a};return new Promise((function(t,a){(new kt).run(new ht(e,n)).then((function(){return t()})).catch((function(e){return a(e.response.status)}))}))}},{key:"refreshUser",value:function(e,t){return new Promise((function(a,n){(new kt).run(new Ve(e,t)).then((function(){return a()})).catch((function(e){return n(e.response.status)}))}))}}]),e}()),Wa=function(e){var t=e.title,a=e.info;return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",{className:"text__item__profile"},l.a.createElement("span",{className:"info__office"},l.a.createElement("b",{style:{fontWeight:"bold"}},l.a.createElement("strong",{style:{color:"rgb(0 149 135)"}},l.a.createElement(b.a,{icon:"address-card"})),"\xa0 ",t,":"),"\xa0 ",a)))},Xa=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e))._storage=m.getObject("user"),n.state={user:{email:n._storage.user.email,name:n._storage.user.name,office:n._storage.user.office},oldPass:"",newPass:"",isLoadPass:!1,typePassowrd:!0},n._alert=new de,n}return Object(u.a)(a,[{key:"_errStatusCode",value:function(e){switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError()}this.setState({isLoadPass:!1})}},{key:"_handleUser",value:function(e,t,a){this.setState((function(a){return{user:Object(Ie.a)(Object(Ie.a)({},a.user),{},Object(At.a)({},e,t))}}),a)}},{key:"_onChangeUser",value:function(e){this._handleUser(e.target.id,e.target.value)}},{key:"onSavedRefresh",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,n,i,l,r=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadPass:!0}),t=this.state,a=t.newPass,n=t.oldPass,i=Promise.resolve(),e.next=5,this.onSaveUser();case 5:if(l=e.sent,!a||!n){e.next=10;break}return e.next=9,this.onSavePass();case 9:i=e.sent;case 10:Promise.all([i,l]).then((function(){r._alert.success("Perfil editado"),r.setState({isLoadPass:!1})}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSavePass",value:function(){var e=this;return new Promise((function(t,a){var n=e.state,i=n.newPass,l=n.oldPass;qa.refreshPass(e._storage.user.id,i,l).then((function(){e.setState({newPass:"",oldPass:""}),t()})).catch((function(t){400===t&&e._alert.error("Senha antiga invalida!"),e._errStatusCode(t),a(t)}))}))}},{key:"onSaveUser",value:function(){var e=this;return new Promise((function(t){qa.refreshUser(e._storage.user.id,e.state.user).then((function(){Pt.getUser().then((function(e){return m.setObject("user",e),t()})).catch((function(t){return e._errStatusCode(t)}))})).catch((function(t){return e._errStatusCode(t)}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(M,null,l.a.createElement(k,null,l.a.createElement("section",{className:"col-sm-12 col-md-12 col-lg-4 col-xs-4"},l.a.createElement("div",{className:"box__user__info__profile shadow-sm"},l.a.createElement("div",{className:"content__user__profile__box"},l.a.createElement("img",{src:N.a,width:130,height:130,alt:"Profile"}),l.a.createElement("span",{className:"info__name__profile__user"},this.state.user.name),l.a.createElement("span",{className:"info__email__profile__user"},this.state.user.email),l.a.createElement("div",{className:"info__office__profile__user"},l.a.createElement(Wa,{title:"Cargo",info:this._storage.user.office}),l.a.createElement(Wa,{title:"Login",info:this._storage.user.alias}),l.a.createElement(Wa,{title:"Unidade",info:this._storage.health_unit.name}),l.a.createElement(P,null))))),l.a.createElement("section",{className:"col-sm-12 col-md-12 col-lg-8 col-xs-8"},l.a.createElement("div",{className:"box__form__info__profile shadow-sm"},l.a.createElement("fieldset",null,l.a.createElement("form",{className:"needs-validation",noValidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Nome"),l.a.createElement("input",{id:"name",type:"text",className:"form-control",placeholder:"Nome",value:this.state.user.name,onChange:this._onChangeUser.bind(this)})),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{id:"email",type:"email",className:"form-control",placeholder:"Ex.: funcionario@gmail.com",value:this.state.user.email,onChange:this._onChangeUser.bind(this)}))))),l.a.createElement("fieldset",null,l.a.createElement("form",{className:"needs-validation",noValidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Nova senha"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{className:"form-control",placeholder:"Nova senha",value:this.state.newPass,type:this.state.typePassowrd?"password":"text",onChange:function(t){return e.setState({newPass:t.target.value})}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return e.setState({typePassowrd:!e.state.typePassowrd})}},l.a.createElement(b.a,{icon:this.state.typePassowrd?"eye-slash":"eye"}))))),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-3"},l.a.createElement("label",null,"Senha atual"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{className:"form-control",placeholder:"Senha atual",value:this.state.oldPass,type:this.state.typePassowrd?"password":"text",onChange:function(t){return e.setState({oldPass:t.target.value})}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return e.setState({typePassowrd:!e.state.typePassowrd})}},l.a.createElement(b.a,{icon:this.state.typePassowrd?"eye-slash":"eye"})))))),l.a.createElement("button",{className:"btn btn-dark",type:"button",onClick:function(){return e.onSavedRefresh()}},this.state.isLoadPass?l.a.createElement(T,{size:10,color:"white"}):"Salvar"))))))))}}]),a}(l.a.PureComponent),Ka=Object(h.g)(Xa),Za=(a(202),function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getHistory",value:function(){return new Promise((function(e,t){return(new kt).run(new ze).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"prepareHistory",value:function(e){var t=[],a=[];return e.map((function(e){return t.push({date:String(e.date.substring(0,10)),logs:[]})})),t.forEach((function(e){a.findIndex((function(t){return e.date===t.date}))>-1||a.push(e)})),e.map((function(e){a.map((function(t){String(e.date.substring(0,10))===t.date&&t.logs.push(e)}))})),a}},{key:"getIcon",value:function(e){switch(e){case"death_patient":return"head-side-cough-slash";case"register_patient":return"list-alt";case"delete_patient":return"user-slash";case"exam_patient":return"diagnoses";case"phonecall_completed":return"phone-alt";case"update_patient":return"user-edit";default:return"exclamation"}}}]),e}()),Ja=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={dataHistory:[],isLoadHistory:!1},n._storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"_getHistory",value:function(){var e=this;this.setState({isLoadHistory:!0}),Za.getHistory().then((function(t){t=Za.prepareHistory(t),e.setState({dataHistory:t,isLoadHistory:!1})})).catch((function(t){switch(t){case 401:ra.logout(e.props.history);break;case 500:ra.internalError()}})).finally((function(){return e.setState({isLoadHistory:!1})}))}},{key:"componentDidMount",value:function(){if("municipal"!==this._storage.user.type)return this._getHistory();ra.withoutPermissionVizualization(this.props.history,"/patient")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{titleComponent:"Registros de atividade",icon:"clipboard-list"}),l.a.createElement(I,null,l.a.createElement("div",{className:"box__record__activity"},this.state.isLoadHistory?l.a.createElement("center",null,l.a.createElement(T,{size:10})):0===this.state.dataHistory.length&&l.a.createElement("center",null,"Nenhum resultado encontrado."),l.a.createElement("div",{className:"content__records__app"},this.state.dataHistory.map((function(e,t){return l.a.createElement(i.Fragment,{key:t},l.a.createElement("div",{className:"data__current__record"},l.a.createElement("span",null,ya.formatCustom(e.date,"LL"))),e.logs.map((function(e,t){return l.a.createElement("div",{className:"row__content__item__record",key:t},l.a.createElement("div",{className:"icon__item__record"},l.a.createElement("span",null,l.a.createElement(b.a,{icon:Za.getIcon(e.type)}))),l.a.createElement("div",{className:"item__record"},l.a.createElement("span",null,ya.formatCustom(e.date,"HH:mm"),"\xa0\u2022\xa0",l.a.createElement("strong",{style:{color:"#009587",fontWeight:900}},e.name_user),"\xa0",e.description,"\xa0"),l.a.createElement("span",{className:"hour__record"},l.a.createElement(b.a,{icon:"clock"}),"\xa0",ya.fromNow(e.date))))})))}))))))}}]),a}(l.a.PureComponent),Qa=Object(h.g)(Ja),$a=function(e){var t=e.icon,a=e.title,n=e.hash,i=e.onClickEdit,r=e.onClickDelete,o=e.permission;return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"col-sm-12 col-md-12 col-lg-6 col-xs-6 mb-5"},l.a.createElement(k,null,l.a.createElement("h6",{style:{color:"#5a5a5a",paddingBottom:10}},l.a.createElement(b.a,{icon:t}),"\xa0",a,"\xa0- ",l.a.createElement("b",{style:{color:"black",fontWeight:"normal"}},"Coronav\xedrus GAR\xc7A"))),o.super_admin&&l.a.createElement(k,null,l.a.createElement("button",{onClick:function(){return r(n)},className:"btn btn-danger",style:{fontSize:12,marginRight:20,marginBottom:20}},l.a.createElement(b.a,{icon:"trash-alt"})),l.a.createElement("button",{onClick:function(){return i(n)},"data-target":"#register_help","data-toggle":"modal",className:"btn btn-secondary",style:{fontSize:12,marginRight:20,marginBottom:20}},l.a.createElement(b.a,{icon:"pencil-alt"}))),l.a.createElement("iframe",{width:"100%",height:"445px",src:"https://www.youtube.com/embed/".concat(n)})))},en=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"getHelps",value:function(){return new Promise((function(e,t){return(new kt).run(new gt).then((function(t){return e(t.data)})).catch((function(e){return t(e.response.status)}))}))}},{key:"setHelp",value:function(e){return new Promise((function(t,a){return(new kt).run(new _t(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"getHelp",value:function(e){return new Promise((function(t,a){return(new kt).run(new wt(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}},{key:"updateHelps",value:function(e,t){return new Promise((function(a,n){return(new kt).run(new yt(e,t)).then((function(e){return a(e.data)})).catch((function(e){return n(e.response.status)}))}))}},{key:"deleteHelps",value:function(e){return new Promise((function(t,a){return(new kt).run(new Ct(e)).then((function(e){return t(e.data)})).catch((function(e){return a(e.response.status)}))}))}}]),e}(),tn=function(e){var t=e.onChangeValues,a=e.submitVideo,n=e.isLoadButton,i=e.isEdit,r=e.submitEditVideo,o=e.isClassErrorsValues,s=e.isLoadEdit,c=e.value;return l.a.createElement("div",{className:"modal fade",id:"register_help"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#00b88a",color:"white"}},l.a.createElement("h5",{className:"modal-title"},i?"Editar v\xeddeo":"Registrar v\xeddeo do YouTube"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},s?l.a.createElement("center",null,l.a.createElement(T,{size:15})):l.a.createElement("fieldset",null,l.a.createElement("form",null,!i&&l.a.createElement(k,null,l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"URL:"),l.a.createElement("input",{type:"text",value:c.hash,className:"form-control ".concat(o.hash),id:"hash",onChange:function(e){return t(e)},placeholder:"URL do v\xeddeo"}),l.a.createElement("div",{className:"invalid-feedback"},"Digite a URL."))),l.a.createElement(k,null,l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"T\xedtulo:"),l.a.createElement("input",{type:"text",value:c.title,className:"form-control ".concat(o.title),id:"title",onChange:function(e){return t(e)},placeholder:"T\xedtulo do v\xeddeo"}),l.a.createElement("div",{className:"invalid-feedback"},"Digite um t\xedtulo."))),l.a.createElement(k,null,l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"Para qual p\xe1gina espec\xedfica?"),l.a.createElement("input",{type:"text",value:c.type,className:"form-control ".concat(o.type),id:"type",onChange:function(e){return t(e)},placeholder:"Nome da p\xe1gina"}),l.a.createElement("div",{className:"invalid-feedback"},"Digite o nome da p\xe1gina do tutorial.")))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancelar"),l.a.createElement("button",{onClick:i?r:a,type:"button",className:"btn btn-primary",style:{backgroundColor:"#00b88a",color:"white"}},n?l.a.createElement(T,{size:10,color:"white"}):"Salvar")))))},an={hash:"",title:"",type:""},nn=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[],idCurrentVideo:null,help:{hash:"",title:"",type:""},isEdit:!1,isLoadHelp:!0,isLoadEdit:!1,isLoadButton:!1,isVisibleModalDelete:!1,isClassErrorsValues:{hash:"",title:"",type:""}},n._swal=new de,n.storage=m.getObject("user"),n}return Object(u.a)(a,[{key:"tratativeError",value:function(e,t){var a=this;switch(e){case 401:ra.logout(this.props.history);break;case 500:ra.internalError();break;case 403:ra.withoutPermissionVizualization(this.props.history,"/patients");case 409:this._swal.error("V\xeddeo j\xe1 cadastrado!",(function(){a.setState({cnsInvalid:!0})}))}return t}},{key:"_handle",value:function(e,t,a){this.setState((function(a){return{help:Object(Ie.a)(Object(Ie.a)({},a.help),{},Object(At.a)({},e,t))}}),a)}},{key:"_handleError",value:function(e,t){this.setState((function(t){return{isClassErrorsValues:Object(Ie.a)(Object(Ie.a)({},t.isClassErrorsValues),{},Object(At.a)({},e,"is-invalid"))}}),t)}},{key:"_handleClearAllErrors",value:function(){this.setState({isClassErrorsValues:{hash:"",title:"",type:""}})}},{key:"_handleClearError",value:function(e,t){this.setState((function(t){return{isClassErrorsValues:Object(Ie.a)(Object(Ie.a)({},t.isClassErrorsValues),{},Object(At.a)({},e,""))}}),t)}},{key:"_getHelps",value:function(){var e=this;en.getHelps().then((function(t){e.setState({data:t,isLoadHelp:!1})})).catch((function(t){return 404==t?e.setState({data:[]}):e.tratativeError(t)})).finally((function(){return e.setState({isLoadHelp:!1})}))}},{key:"_getHelpEditData",value:function(e){var t=this;this.setState({isEdit:!0,isLoadEdit:!0,idCurrentVideo:e},(function(){en.getHelp(e).then((function(e){t.setState({help:e,isLoadEdit:!1})})).catch((function(e){return t.tratativeError(e)}))}))}},{key:"onChangeValues",value:function(e){this._handle(e.target.id,e.target.value),this._handleClearError(e.target.id)}},{key:"parserUrlYouTube",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return t&&11==t[7].length?t[7]:e}},{key:"submitVideo",value:function(){var e=this,t=this.state.help,a=t.hash,n=t.title,i=t.type;a&&n&&i&&(this.setState({isLoadButton:!0}),this._handle("hash",this.parserUrlYouTube(a),(function(){en.setHelp(e.state.help).then((function(){e._swal.success("V\xeddeo cadastrado.",(function(){e.refresh(),C()("#register_help").modal("hide"),e.setState({help:an})}))})).catch((function(t){return e.tratativeError(t)})).finally((function(){return e.setState({isLoadButton:!1})}))}))),!a&&this._handleError("hash"),!n&&this._handleError("title"),!i&&this._handleError("type")}},{key:"onDeleteVideo",value:function(e){var t=this;en.deleteHelps(e).then((function(){t._swal.success("V\xeddeo deletado.",(function(){t.refresh(),t.setState({isVisibleModalDelete:!1})}))})).catch((function(e){return t.tratativeError(e)}))}},{key:"onEditVideo",value:function(){var e=this,t=this.state.help,a=t.title,n=t.type;if(a&&n){var i={title:a,type:n};this.setState({isLoadButton:!0}),en.updateHelps(i,this.state.idCurrentVideo).then((function(){e._swal.success("V\xeddeo editado.",(function(){e.refresh(),C()("#register_help").modal("hide"),e.setState({help:an,isEdit:!1})}))})).catch((function(t){return e.tratativeError(t)})).finally((function(){return e.setState({isLoadButton:!1})}))}!a&&this._handleError("title"),!n&&this._handleError("type")}},{key:"componentDidMount",value:function(){var e=this;this._getHelps(),C()("#register_help").on("hide.bs.modal",(function(){e._handleClearAllErrors(),e.setState({help:an,isEdit:!1})}))}},{key:"refresh",value:function(){this._getHelps()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{titleComponent:"Ajuda da plataforma"}),l.a.createElement(I,null,l.a.createElement(tn,{onChangeValues:function(t){return e.onChangeValues(t)},submitVideo:function(){return e.submitVideo()},isLoadButton:this.state.isLoadButton,isEdit:this.state.isEdit,submitEditVideo:function(){return e.onEditVideo()},isClassErrorsValues:this.state.isClassErrorsValues,isLoadEdit:this.state.isLoadEdit,value:this.state.help}),l.a.createElement(L,{subtitle:"Aten\xe7\xe3o",title:"Excluir v\xeddeo",oneButtonTitle:"Excluir",twoButtonTitle:"Cancelar",oneButtonIcon:"check",typeAnimation:"fadeInRight",visible:this.state.isVisibleModalDelete,oneButtonOnclick:function(){return e.onDeleteVideo(e.state.idCurrentVideo)},onClickAway:function(){return e.setState({isVisibleModalDelete:!1})},desc:"Deseja excluir este v\xeddeo de ajuda?"}),this.storage.user.super_admin&&l.a.createElement(k,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn-success",style:{border:0,borderRadius:100,padding:15,paddingLeft:20,paddingRight:20,marginBottom:20,backgroundColor:"#00b88a",color:"white"},"data-target":"#register_help","data-toggle":"modal"},l.a.createElement(b.a,{icon:"plus"})))),l.a.createElement(k,null,this.state.isLoadHelp?l.a.createElement("center",null,l.a.createElement(T,{size:15})):this.state.data.length<=0?l.a.createElement("center",null,"Nenhum v\xeddeo encontrado."):this.state.data.length>0&&this.state.data.map((function(t,a){return l.a.createElement($a,{key:a,hash:t.hash,title:t.title,icon:"question-circle",permission:e.storage.user,onClickDelete:function(t){return e.setState({isVisibleModalDelete:!0,idCurrentVideo:t})},onClickEdit:function(t){return e._getHelpEditData(t)}})})))))}}]),a}(l.a.PureComponent),ln=Object(h.g)(nn),rn=function(){return m.getObject("token")};s.a.defaults.headers.common.Authorization=null===(_a=rn())||void 0===_a?void 0:_a.access_token;var on=function(){return l.a.createElement(d.a,null,l.a.createElement(h.d,null,l.a.createElement(sn,{exact:!0,path:"/",component:Yt}),l.a.createElement(sn,{exact:!0,path:"/about",component:qt}),l.a.createElement(sn,{exact:!0,path:"/units",component:ta}),l.a.createElement(h.b,{path:"/login",component:va}),l.a.createElement(cn,{path:"/users",component:da}),l.a.createElement(cn,{path:"/patients",component:La}),l.a.createElement(cn,{path:"/phonecalls",component:za}),l.a.createElement(cn,{path:"/healthunit",component:Ga}),l.a.createElement(cn,{path:"/profile",component:Ka}),l.a.createElement(cn,{path:"/record/activity",component:Qa}),l.a.createElement(cn,{path:"/help",component:ln}),l.a.createElement(h.a,{path:"*",to:"/"})))},sn=function(e){var t=e.component,a=Object(r.a)(e,["component"]);return l.a.createElement(h.b,Object.assign({},a,{render:function(e){return l.a.createElement(Ft,null,l.a.createElement(t,e))}}))},cn=function(e){var t=e.component,a=Object(r.a)(e,["component"]);return l.a.createElement(h.b,Object.assign({},a,{render:function(e){return rn()?l.a.createElement(Tt,null,l.a.createElement(t,e)):l.a.createElement(h.a,{to:"/login"})}}))},un=a(27),mn=Object.keys(f).filter((function(e){return"fas"!==e&&"prefix"!==e})).map((function(e){return f[e]}));p.b.add.apply(p.b,Object(n.a)(mn)),Object(un.render)(l.a.createElement(on,null),document.getElementById("root"))},49:function(e,t,a){e.exports=a.p+"static/media/user_icon.99f75aa5.png"},90:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAq1BMVEUAAAAHjIgHjIgHjIgHjIgHjIgEdXEHjIgHjIgHjIgHjIgHjIgHjIgHjIgHjIgHjIgHjIgAXFcAXVgHjIgHjIgHjIgAXVkHjIgHjIgHjIgHjIgHjIgAZGAAY14HjIgAXFcAXFcAYFsBZWEFfHgAXlkAXFcHjIgHjIgAXFcAXlkHjIgAXVgAXFcAXFcHjIgAXFcAYV0EgHwEfHgBbmoBZ2MEhIAGiIQDeXUCdG8KVQAbAAAALnRSTlMA/ffKWQsF8Nu6sXFNQCkiF+nd7OHTtaGZk3kvKx8R+vGUYxrLa1NISDg2hHZY6YkDlgAAAZlJREFUOMt1lOl2gjAQhQERxBWQTQX3vW0msojv/2Q9JqE1TLj/cvlOJnPJRJO1Hiehret2mIzXWrf6pmMQIcMx+13cLBaYQOOZmlv1SEu9lYqbck4mp5hbD4nQs6qeRGiIWxrp/NOjoJSWxYOv9BFqZMC/vCgw0RdfD2btDQUH4O/2+50PIMjWln2HuTlAlL7XaQSUVdedvlw5YGAJx4wb2REKZgVy7YnBGqGwb5wT0IrFPpHAs84re2nj3LbAa58l0GRgDV7WOKkHOQNNCRwbfMftrXGuG76jMZbAu/02KwpfwrB24oz2XQLdkLVYgHflxs9WdB26mqSYiLb908Gysm9P5EhiAciHJDWFjR9F/gZoTsQRlb+G5CUwlZwjDrrmF1tcsrooy6IWF82+aG1ZCVEosRSTEGAuUM7CUm9z+lJT6YCH66ApZRoyZ5hd8z+UwWHnCzCZf3LzidYla/EJLiytU9PBPzdAw48iwtFgub2/aFwlgCJC0eCIUDSdEeFo1FqwaJCtjkgdDX4A0WPXFRGORi1TFc0vlMVlzekawZIAAAAASUVORK5CYII="},92:function(e,t,a){e.exports=a.p+"static/media/logo_covid.24341b6a.png"}},[[101,1,2]]]);
//# sourceMappingURL=main.0da6da32.chunk.js.map